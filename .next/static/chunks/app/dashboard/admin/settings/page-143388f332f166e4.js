(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1775],{5802:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var t=r(95155),a=r(88482),d=r(97168),l=r(88145),n=r(69663),i=r(35695),c=r(77685),o=r(39514),x=r(23227),m=r(17580),u=r(14186),h=r(4516),f=r(50744),v=r(79772),g=r(92657);function p(){let e=(0,i.useRouter)(),{data:s,loading:r}=(0,c.I)(o.Yh),{data:p,loading:j}=(0,c.I)(o.dO),N=(null==s?void 0:s.locations)||[],b=(null==p?void 0:p.employees)||[],y=b.filter(e=>"active"===e.status).length,w=s=>{e.push("/dashboard/admin/location/".concat(s))};return r||j?(0,t.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,t.jsx)("div",{className:"bg-gradient-castle rounded-2xl p-6 text-white shadow-elegant",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:(0,t.jsx)(x.A,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-1",children:"Administration Red Castle"}),(0,t.jsx)("p",{className:"text-white/90 text-sm md:text-base",children:"G\xe9rez vos restaurants et vos \xe9quipes"})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,t.jsx)(a.Zp,{className:"dashboard-card",children:(0,t.jsx)(a.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-xl mb-4"}),(0,t.jsx)("div",{className:"h-8 w-16 bg-gray-200 rounded mb-2"}),(0,t.jsx)("div",{className:"h-4 w-24 bg-gray-200 rounded"})]})})},e))})]}):(0,t.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,t.jsx)("div",{className:"bg-gradient-castle rounded-2xl p-6 text-white shadow-elegant",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:(0,t.jsx)(x.A,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-1",children:"Administration Red Castle"}),(0,t.jsx)("p",{className:"text-white/90 text-sm md:text-base",children:"G\xe9rez vos restaurants et vos \xe9quipes"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(a.Zp,{className:"dashboard-card",children:(0,t.jsx)(a.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center",children:(0,t.jsx)(x.A,{className:"w-6 h-6 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:N.length}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Restaurants"})]})]})})}),(0,t.jsx)(a.Zp,{className:"dashboard-card",children:(0,t.jsx)(a.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-restaurant-green/10 rounded-xl flex items-center justify-center",children:(0,t.jsx)(m.A,{className:"w-6 h-6 text-restaurant-green"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:b.length}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Employ\xe9s Total"})]})]})})}),(0,t.jsx)(a.Zp,{className:"dashboard-card",children:(0,t.jsx)(a.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-restaurant-red/10 rounded-xl flex items-center justify-center",children:(0,t.jsx)(u.A,{className:"w-6 h-6 text-restaurant-red"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:y}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"En Service"})]})]})})})]}),(0,t.jsxs)(a.Zp,{className:"dashboard-card",children:[(0,t.jsxs)(a.aR,{children:[(0,t.jsxs)(a.ZB,{className:"flex items-center",children:[(0,t.jsx)(h.A,{className:"w-5 h-5 mr-2"}),"Restaurants & \xc9quipes"]}),(0,t.jsx)(a.BT,{children:"Cliquez sur un restaurant pour voir ses employ\xe9s"})]}),(0,t.jsxs)(a.Wu,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:N.map(e=>{var s,r;let a=b.filter(s=>{var r;return(null===(r=s.location)||void 0===r?void 0:r.id)===e.id}),n=a.filter(e=>"active"===e.status);return(0,t.jsx)("div",{className:"border border-border rounded-xl p-6 hover:bg-accent/50 transition-colors cursor-pointer group",onClick:()=>w(e.id),children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-castle rounded-xl flex items-center justify-center",children:(0,t.jsx)(f.A,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)(l.E,{variant:"outline",className:"text-xs",children:[a.length," employ\xe9s"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-1 group-hover:text-primary transition-colors",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:[n.length," actifs •"," ",a.length-n.length," inactifs"]}),(0,t.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[(0,t.jsx)(h.A,{className:"w-3 h-3 mr-1"}),e.address]}),e.manager&&(0,t.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[(0,t.jsx)(v.A,{className:"w-3 h-3 mr-1"}),"Manager: ",null===(s=e.manager.profile)||void 0===s?void 0:s.first_name," ",null===(r=e.manager.profile)||void 0===r?void 0:r.last_name]})]}),(0,t.jsxs)(d.$,{className:"w-full btn-restaurant group-hover:shadow-soft transition-all",onClick:s=>{s.stopPropagation(),w(e.id)},children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Voir les Employ\xe9s"]})]})},e.id)})}),0===N.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(x.A,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Aucun restaurant trouv\xe9"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ajoutez votre premier restaurant pour commencer"})]})]})]}),(0,t.jsxs)(a.Zp,{className:"dashboard-card",children:[(0,t.jsxs)(a.aR,{children:[(0,t.jsxs)(a.ZB,{className:"flex items-center",children:[(0,t.jsx)(u.A,{className:"w-5 h-5 mr-2"}),"Activit\xe9 R\xe9cente"]}),(0,t.jsx)(a.BT,{children:"Derni\xe8res actions dans le syst\xe8me"})]}),(0,t.jsx)(a.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[b.slice(0,5).map((e,s)=>{var r,a,d;return(0,t.jsxs)("div",{className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-accent/50 transition-colors",children:[(0,t.jsx)(n.eu,{className:"w-10 h-10",children:(0,t.jsxs)(n.q5,{className:"bg-gradient-castle text-white text-sm",children:[null===(r=e.nom)||void 0===r?void 0:r.charAt(0),null===(a=e.prenom)||void 0===a?void 0:a.charAt(0)]})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-foreground truncate",children:[e.nom," ",e.prenom]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.job_title," • ",null===(d=e.location)||void 0===d?void 0:d.name]})]}),(0,t.jsx)(l.E,{variant:"active"===e.status?"default":"secondary",className:"text-xs",children:"active"===e.status?"Actif":"Inactif"})]},e.id)}),0===b.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(m.A,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aucune activit\xe9 r\xe9cente"})]})]})})]})]})}},69663:(e,s,r)=>{"use strict";r.d(s,{eu:()=>n,q5:()=>i});var t=r(95155),a=r(12115),d=r(54011),l=r(53999);let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(d.bL,{ref:s,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});n.displayName=d.bL.displayName,a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(d._V,{ref:s,className:(0,l.cn)("aspect-square h-full w-full",r),...a})}).displayName=d._V.displayName;let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(d.H4,{ref:s,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});i.displayName=d.H4.displayName},88145:(e,s,r)=>{"use strict";r.d(s,{E:()=>n});var t=r(95155);r(12115);var a=r(74466),d=r(53999);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:r,...a}=e;return(0,t.jsx)("div",{className:(0,d.cn)(l({variant:r}),s),...a})}},88482:(e,s,r)=>{"use strict";r.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>i,Zp:()=>l,aR:()=>n});var t=r(95155),a=r(12115),d=r(53999);let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",r),...a})});n.displayName="CardHeader";let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});i.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},93193:(e,s,r)=>{Promise.resolve().then(r.bind(r,5802))},97168:(e,s,r)=>{"use strict";r.d(s,{$:()=>c,r:()=>i});var t=r(95155),a=r(12115),d=r(99708),l=r(74466),n=r(53999);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:r,variant:a,size:l,asChild:c=!1,...o}=e,x=c?d.DX:"button";return(0,t.jsx)(x,{className:(0,n.cn)(i({variant:a,size:l,className:r})),ref:s,...o})});c.displayName="Button"}},e=>{var s=s=>e(e.s=s);e.O(0,[7477,8916,1316,5516,8441,1684,7358],()=>s(93193)),_N_E=e.O()}]);