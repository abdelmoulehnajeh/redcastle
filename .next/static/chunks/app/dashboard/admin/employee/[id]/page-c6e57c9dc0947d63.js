(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9832],{28164:(e,s,a)=>{Promise.resolve().then(a.bind(a,56299))},56299:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>B});var t=a(95155),r=a(11518),l=a.n(r),n=a(12115),d=a(35695),i=a(88482),o=a(97168),c=a(88145),m=a(89852),x=a(82714),u=a(41397),f=a(6824),h=a(69074),p=a(42355),j=a(13052),g=a(37981),v=a(53999),b=a(60823);function N(e){let{date:s,onDateChange:a,placeholder:r="S\xe9lectionner une date",className:l,disabled:d=!1}=e,[i,c]=(0,n.useState)(!1),[m,x]=(0,n.useState)(s||new Date),u=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),N=e=>{let s=new Date(e.getFullYear(),e.getMonth(),1).getDay();return 0===s?6:s-1},y=e=>{let s=new Date(m.getFullYear(),m.getMonth(),e);null==a||a(s),c(!1)},w=e=>{x(s=>{let a=new Date(s);return"prev"===e?a.setMonth(s.getMonth()-1):a.setMonth(s.getMonth()+1),a})};return(0,t.jsxs)(b.AM,{open:i,onOpenChange:c,children:[(0,t.jsx)(b.Wv,{asChild:!0,children:(0,t.jsxs)(o.$,{variant:"outline",className:(0,v.cn)("w-full justify-start text-left font-normal","h-8 sm:h-10 px-3 py-2 text-xs sm:text-sm","bg-slate-900/80 border border-slate-700","hover:bg-slate-800/80 hover:text-white","focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","rounded-md transition-all duration-200","backdrop-blur-sm",!s&&"text-muted-foreground",d&&"opacity-50 cursor-not-allowed pointer-events-none",l),disabled:d,children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 shrink-0 text-black"}),(0,t.jsx)("span",{className:"truncate flex-1 text-left text-lg sm:text-xl font-semibold text-black",children:s?(0,f.GP)(s,"dd/MM/yyyy",{locale:g.fr}):r})]})}),(0,t.jsx)(b.hl,{className:(0,v.cn)("w-80 sm:w-auto p-0 z-50","border border-slate-700 shadow-2xl","bg-gradient-to-br from-slate-900/95 via-slate-800/90 to-slate-900/95","rounded-lg overflow-hidden","animate-in fade-in-0 zoom-in-95 slide-in-from-top-2"),align:"start",sideOffset:4,children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>w("prev"),className:"h-8 w-8 p-0 hover:bg-slate-800/80",children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"font-semibold text-sm sm:text-base text-center min-w-[140px] text-white",children:(0,f.GP)(m,"MMMM yyyy",{locale:g.fr})}),(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>w("next"),className:"h-8 w-8 p-0 hover:bg-slate-800/80",children:(0,t.jsx)(j.A,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{let e=u(m),a=N(m),r=new Date,l=m.getMonth()===r.getMonth()&&m.getFullYear()===r.getFullYear(),n=[];["Lu","Ma","Me","Je","Ve","Sa","Di"].forEach((e,s)=>{n.push((0,t.jsx)("div",{className:"text-xs font-medium text-white/70 text-center py-2",children:e},"weekday-".concat(s)))});for(let e=0;e<a;e++)n.push((0,t.jsx)("div",{className:"p-2"},"empty-".concat(e)));for(let a=1;a<=e;a++){m.getFullYear(),m.getMonth();let e=s&&s.getDate()===a&&s.getMonth()===m.getMonth()&&s.getFullYear()===m.getFullYear(),d=l&&r.getDate()===a;n.push((0,t.jsx)("button",{onClick:()=>y(a),className:(0,v.cn)("relative w-8 h-8 text-sm rounded-md transition-all duration-200","hover:bg-accent/50 hover:text-accent-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1","flex items-center justify-center",e&&"bg-primary text-primary-foreground font-semibold hover:bg-primary/90",d&&!e&&"bg-accent text-accent-foreground font-medium"),children:a},a))}return n})()}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2 border-t border-slate-700",children:[(0,t.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>{null==a||a(new Date),c(!1)},className:"flex-1 h-8 text-xs bg-slate-800/80 text-white border-slate-700 hover:bg-slate-700",children:"Aujourd'hui"}),(0,t.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>{null==a||a(void 0),c(!1)},className:"flex-1 h-8 text-xs bg-slate-800/80 text-white border-slate-700 hover:bg-slate-700",children:"Effacer"})]})]})})]})}var y=a(35169),w=a(71007),_=a(13717),k=a(4229),C=a(54416),E=a(28883),A=a(19420),D=a(55868),R=a(69037),M=a(33109),z=a(1243),P=a(84616),T=a(14186),S=a(57434),$=a(77685),I=a(34998),F=a(39514),Z=a(56671),J=a(80154),O=a(18085);function B(){var e,s,a,r;let p=(0,d.useRouter)(),j=(0,d.useParams)().id,{lang:v,t:b,locale:B,formatNumber:W,formatCurrency:L}=(0,J.uU)("fr"),[Y,G]=(0,n.useState)(!1),[U,V]=(0,n.useState)({}),[Q,K]=(0,n.useState)(!1),[X,q]=(0,n.useState)({infraction:{name:"",price:"",description:"",date:void 0},absence:{name:"",price:"",description:"",date:void 0},retard:{name:"",price:"",description:"",date:void 0},tenue:{name:"",price:"",description:"",date:void 0}}),{data:H,loading:ee,refetch:es}=(0,$.I)(F.Pz,{variables:{id:j},fetchPolicy:"cache-first",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!1,errorPolicy:"all"}),{data:ea,loading:et,refetch:er}=(0,$.I)(F.fQ,{variables:{employee_id:j},fetchPolicy:"cache-and-network",errorPolicy:"all"}),[el]=(0,I.n)(F.Dx,{update(e,s){let{data:a}=s;(null==a?void 0:a.updateEmployee)&&e.modify({id:e.identify({__typename:"Employee",id:j}),fields:{salaire:()=>a.updateEmployee.salaire,prime:()=>a.updateEmployee.prime,avance:()=>a.updateEmployee.avance,infractions:()=>a.updateEmployee.infractions,absence:()=>a.updateEmployee.absence,retard:()=>a.updateEmployee.retard,tenu_de_travail:()=>a.updateEmployee.tenu_de_travail,status:()=>a.updateEmployee.status,price_j:()=>a.updateEmployee.price_j,location_id:()=>a.updateEmployee.location_id}})}}),[en]=(0,I.n)(F.no,{update(e,s){let{data:a}=s;(null==a?void 0:a.updateEmployeeProfile)&&e.modify({id:e.identify({__typename:"Employee",id:j}),fields:{nom:()=>a.updateEmployeeProfile.nom,prenom:()=>a.updateEmployeeProfile.prenom,email:()=>a.updateEmployeeProfile.email,telephone:()=>a.updateEmployeeProfile.telephone,location_id:()=>a.updateEmployeeProfile.location_id,job_title:()=>a.updateEmployeeProfile.job_title}})}}),[ed]=(0,I.n)(F.pP,{update(e,s){let{data:a}=s;(null==a?void 0:a.updateUserInfo)&&e.modify({id:e.identify({__typename:"Employee",id:j}),fields:{user:()=>a.updateUserInfo,created_at:()=>{var e;return null===(e=a.updateUserInfo.employee)||void 0===e?void 0:e.created_at}}})}}),[ei]=(0,I.n)(F.E0),[eo]=(0,I.n)(F.Zt,{onCompleted:()=>{er(),es(),q(e=>({...e,infraction:{name:"",price:"",description:"",date:void 0}})),Z.oR.success("Infraction ajout\xe9e avec succ\xe8s")},onError:e=>{Z.oR.error("Erreur lors de l'ajout de l'infraction"),console.error("Error creating infraction:",e)}}),[ec]=(0,I.n)(F.T1,{onCompleted:()=>{er(),es(),q(e=>({...e,absence:{name:"",price:"",description:"",date:void 0}})),Z.oR.success("Absence ajout\xe9e avec succ\xe8s")},onError:e=>{Z.oR.error("Erreur lors de l'ajout de l'absence"),console.error("Error creating absence:",e)}}),[em]=(0,I.n)(F.iv,{onCompleted:()=>{er(),es(),q(e=>({...e,retard:{name:"",price:"",description:"",date:void 0}})),Z.oR.success("Retard ajout\xe9 avec succ\xe8s")},onError:e=>{Z.oR.error("Erreur lors de l'ajout du retard"),console.error("Error creating retard:",e)}}),[ex]=(0,I.n)(F.rN,{onCompleted:()=>{er(),es(),q(e=>({...e,tenue:{name:"",price:"",description:"",date:void 0}})),Z.oR.success("Tenue de travail ajout\xe9e avec succ\xe8s")},onError:e=>{Z.oR.error("Erreur lors de l'ajout de la tenue de travail"),console.error("Error creating tenue travail:",e)}}),[eu]=(0,I.n)(F.Kj,{onCompleted:()=>{er(),es(),Z.oR.success("Infraction supprim\xe9e avec succ\xe8s")},onError:e=>{Z.oR.error("Erreur lors de la suppression de l'infraction"),console.error("Error deleting infraction:",e)}}),[ef]=(0,I.n)(F.uX,{onCompleted:()=>{er(),es(),Z.oR.success("Absence supprim\xe9e avec succ\xe8s")},onError:e=>{Z.oR.error("Erreur lors de la suppression de l'absence"),console.error("Error deleting absence:",e)}}),[eh]=(0,I.n)(F.V$,{onCompleted:()=>{er(),es(),Z.oR.success("Retard supprim\xe9 avec succ\xe8s")},onError:e=>{Z.oR.error("Erreur lors de la suppression du retard"),console.error("Error deleting retard:",e)}}),[ep]=(0,I.n)(F.QY,{onCompleted:()=>{er(),es(),Z.oR.success("Tenue de travail supprim\xe9e avec succ\xe8s")},onError:e=>{Z.oR.error("Erreur lors de la suppression de la tenue de travail"),console.error("Error deleting tenue travail:",e)}}),ej=null==H?void 0:H.employee,eg=(null==H?void 0:H.workSchedules)||[],ev=(null==H?void 0:H.contracts)||[],eb=(null==ea?void 0:ea.infractions)||[],eN=(null==ea?void 0:ea.absences)||[],ey=(null==ea?void 0:ea.retards)||[],ew=(null==ea?void 0:ea.tenuesTravail)||[],e_=[{id:"1",name:"Red Castle lauina"},{id:"2",name:"Red Castle Manzah"},{id:"3",name:"Red Castle Cuisine Centrale"}],ek=(e,s,a)=>{q(t=>({...t,[e]:{...t[e],[s]:a}}))},eC=(e,s)=>{q(a=>({...a,[e]:{...a[e],date:s}}))},eE=async e=>{let s=X[e];if(!s.name.trim()||!s.price){Z.oR.error("Veuillez remplir le nom et le prix");return}console.log("[disciplinary] Selected date for",e,":",s.date);let a={employee_id:j,name:s.name.trim(),description:s.description.trim()||null,price:Number.parseFloat(s.price)||0,dat:function(e){if(!e)return null;if("string"==typeof e&&e.includes("/")){let s=e.split("/");if(3===s.length)return"".concat(s[0].padStart(2,"0"),"/").concat(s[1].padStart(2,"0"),"/").concat(s[2])}let s="string"==typeof e?new Date(e):e;return isNaN(s.getTime())?null:(0,f.GP)(s,"dd/MM/yyyy",{locale:g.fr})}(s.date)};console.log("[disciplinary] Mutation variables for",e,":",a);try{switch(e){case"infraction":await eo({variables:a});break;case"absence":await ec({variables:a});break;case"retard":await em({variables:a});break;case"tenue":await ex({variables:a})}}catch(s){console.error("[disciplinary] Error adding ".concat(e,":"),s)}},eA=e=>{try{let s;if(s=new Date(/^\d+$/.test(e)?Number(e):e),isNaN(s.getTime()))return e;return(0,f.GP)(s,"dd/MM/yyyy",{locale:g.fr})}catch(s){return e}},eD=async()=>{try{var e,s,a,t,r,l,n;let d={prenom:(null===(e=U.prenom)||void 0===e?void 0:e.trim())||"",nom:(null===(s=U.nom)||void 0===s?void 0:s.trim())||"",email:(null===(a=U.email)||void 0===a?void 0:a.trim())||"",telephone:(null===(t=U.telephone)||void 0===t?void 0:t.trim())||"",location_id:U.location_id?Number.parseInt(U.location_id,10):null,job_title:(null===(r=U.job_title)||void 0===r?void 0:r.trim())||""},i=Object.fromEntries(Object.entries({salaire:U.salaire,prime:U.prime,infractions:U.infractions,absence:U.absence,retard:U.retard,avance:U.avance,tenu_de_travail:U.tenu_de_travail,status:U.status}).map(e=>{let[s,a]=e;return[s,"status"===s?a:Number.isFinite(Number(a))?Math.max(0,Number(a)):0]})),o={};U.username&&U.username!==(null==ej?void 0:null===(l=ej.user)||void 0===l?void 0:l.username)&&(o.username=U.username.trim()),U.hire_date&&U.hire_date!==(null==ej?void 0:null===(n=ej.created_at)||void 0===n?void 0:n.split("T")[0])&&(o.hire_date=U.hire_date),await en({variables:{id:j,...d}}),await el({variables:{id:j,...i}}),Object.keys(o).length>0&&await ed({variables:{employee_id:j,...o}}),U.password&&U.password.trim()&&await ei({variables:{employee_id:j,currentPassword:"password123",newPassword:U.password.trim()}}),Z.oR.success(b("toast_update_success")),G(!1)}catch(e){Z.oR.error(b("toast_update_error")),console.error("Error updating employee:",e)}},eR=e=>{try{let s;if(s=new Date(/^\d+$/.test(String(e))?Number(e):e),isNaN(s.getTime()))return console.log("[v0] Invalid date value:",e),b("invalid_date");return console.log("[v0] Formatting date:",e,"->",s),(0,f.GP)(s,"PPPP",{locale:"ar"===v?O.ar:g.fr})}catch(s){return console.log("[v0] Date formatting error:",s,"for value:",e),b("invalid_date")}},eM=(0,n.useMemo)(()=>{var e,s,a;let t=null!==(e=null==ej?void 0:ej.infractions)&&void 0!==e?e:0;return Math.max(0,100-(5*t+3*(null!==(s=null==ej?void 0:ej.absence)&&void 0!==s?s:0)+2*(null!==(a=null==ej?void 0:ej.retard)&&void 0!==a?a:0)))},[null==ej?void 0:ej.infractions,null==ej?void 0:ej.absence,null==ej?void 0:ej.retard]),ez=(0,n.useMemo)(()=>eg.reduce((e,s)=>{if(s.start_time&&s.end_time){let a=new Date("2024-01-01 ".concat(s.start_time));return e+(new Date("2024-01-01 ".concat(s.end_time)).getTime()-a.getTime())/36e5}return e},0),[eg]);return ee?(0,t.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none z-0",children:(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/80 via-purple-900/60 to-slate-900/80 backdrop-blur-[6px]"})}),(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[50vh] p-4 relative z-20",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 sm:h-20 sm:w-20 border-b-2 border-primary"})})]}):ej?(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 min-h-screen relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 absolute inset-0 pointer-events-none z-0",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 absolute inset-0 bg-gradient-to-br from-slate-900/80 via-purple-900/60 to-slate-900/80 backdrop-blur-[6px]"}),[...Array(20)].map((e,s)=>(0,t.jsx)("div",{style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(6*Math.random(),"s"),animationDuration:"".concat(6+4*Math.random(),"s")},className:"jsx-4f57d6e22a251548 absolute w-1 h-1 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full opacity-30 animate-float"},s))]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-4 sm:space-y-6 lg:space-y-8 p-3 sm:p-4 lg:p-6 relative z-20 max-w-screen-xl mx-auto",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 glass-card backdrop-blur-futuristic p-4 sm:p-6 lg:p-8 text-white shadow-2xl animate-fade-in relative overflow-hidden",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 absolute inset-0 bg-gradient-to-r from-blue-600/20 via-purple-700/30 to-blue-800/20 opacity-50"}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent translate-x-[-100%] animate-[shimmer_3s_ease-in-out_infinite]"}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 relative z-10",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>p.back(),className:"text-white hover:bg-white/20 p-1 sm:p-2 flex-shrink-0",children:(0,t.jsx)(y.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 w-8 h-8 sm:w-12 sm:h-12 bg-white/20 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(w.A,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 min-w-0 flex-1",children:[(0,t.jsxs)("h1",{dir:"auto",className:"jsx-4f57d6e22a251548 text-lg sm:text-2xl lg:text-3xl font-bold mb-1 truncate bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:[null==ej?void 0:ej.prenom," ",null==ej?void 0:ej.nom]}),(0,t.jsx)("p",{dir:"auto",className:"jsx-4f57d6e22a251548 text-white/90 text-xs sm:text-sm lg:text-base",children:null==ej?void 0:ej.job_title})]})]}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 flex space-x-2 w-full sm:w-auto",children:Y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.$,{onClick:eD,className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,t.jsx)(k.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"})," ",b("save")]}),(0,t.jsxs)(o.$,{onClick:()=>{G(!1),V({})},className:"bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,t.jsx)(C.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"})," ",b("cancel")]})]}):(0,t.jsxs)(o.$,{onClick:()=>{var e,s;V({prenom:(null==ej?void 0:ej.prenom)||"",nom:(null==ej?void 0:ej.nom)||"",email:(null==ej?void 0:ej.email)||"",telephone:(null==ej?void 0:ej.telephone)||"",job_title:(null==ej?void 0:ej.job_title)||"",location_id:(null==ej?void 0:null===(e=ej.location)||void 0===e?void 0:e.id)||"",status:(null==ej?void 0:ej.status)||"active",username:(null==ej?void 0:null===(s=ej.user)||void 0===s?void 0:s.username)||"",password:"",hire_date:(e=>{if(!e)return"";if(/^\d+$/.test(String(e)))return new Date(Number(e)).toISOString().split("T")[0];if("string"==typeof e&&e.includes("T"))return e.split("T")[0];try{let s=new Date(e);if(!isNaN(s.getTime()))return s.toISOString().split("T")[0]}catch(e){console.error("Error parsing date:",e)}return""})(null==ej?void 0:ej.created_at),salaire:(null==ej?void 0:ej.salaire)||0,prime:(null==ej?void 0:ej.prime)||0,infractions:(null==ej?void 0:ej.infractions)||0,absence:(null==ej?void 0:ej.absence)||0,retard:(null==ej?void 0:ej.retard)||0,avance:(null==ej?void 0:ej.avance)||0,tenu_de_travail:(null==ej?void 0:ej.tenu_de_travail)||0}),G(!0)},className:"bg-white/20 hover:bg-white/30 text-white border-white/30 text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,t.jsx)(_.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"})," ",b("edit")]})})]})]}),(0,t.jsxs)(i.Zp,{className:"glass-card backdrop-blur-futuristic border-0 shadow-2xl bg-gradient-to-br from-card to-card/80",children:[(0,t.jsx)(i.aR,{className:"p-4 sm:p-6",children:(0,t.jsxs)(i.ZB,{className:"flex items-center text-base sm:text-lg",children:[(0,t.jsx)(w.A,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"})," ",(0,t.jsx)("span",{dir:"auto",className:"jsx-4f57d6e22a251548",children:b("personal_info")})]})}),(0,t.jsx)(i.Wu,{className:"p-4 sm:p-6 pt-0",children:(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-2",children:[(0,t.jsx)(x.J,{className:"text-xs sm:text-sm font-medium text-muted-foreground",dir:"auto",children:b("first_name","Pr\xe9nom")}),Y?(0,t.jsx)(m.p,{type:"text",value:U.prenom||"",onChange:e=>V({...U,prenom:e.target.value}),className:"text-sm h-8 sm:h-10",placeholder:b("first_name","Pr\xe9nom")}):(0,t.jsx)("div",{dir:"auto",className:"jsx-4f57d6e22a251548 text-sm sm:text-base font-semibold text-foreground",children:ej.prenom})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-2",children:[(0,t.jsx)(x.J,{className:"text-xs sm:text-sm font-medium text-muted-foreground",dir:"auto",children:b("last_name","Nom")}),Y?(0,t.jsx)(m.p,{type:"text",value:U.nom||"",onChange:e=>V({...U,nom:e.target.value}),className:"text-sm h-8 sm:h-10",placeholder:b("last_name","Nom")}):(0,t.jsx)("div",{dir:"auto",className:"jsx-4f57d6e22a251548 text-sm sm:text-base font-semibold text-foreground",children:ej.nom})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-2",children:[(0,t.jsx)(x.J,{className:"text-xs sm:text-sm font-medium",children:"Email"}),Y?(0,t.jsx)(m.p,{type:"email",value:U.email||"",onChange:e=>V({...U,email:e.target.value}),className:"text-sm h-8 sm:h-10",placeholder:"Email"}):(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center space-x-2",children:[(0,t.jsx)(E.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-muted-foreground flex-shrink-0"}),(0,t.jsx)("span",{className:"jsx-4f57d6e22a251548 text-sm sm:text-base font-semibold text-foreground truncate",children:ej.email})]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-2",children:[(0,t.jsx)(x.J,{className:"text-xs sm:text-sm font-medium text-muted-foreground",dir:"auto",children:b("T\xe9l\xe9phone","T\xe9l\xe9phone")}),Y?(0,t.jsx)(m.p,{type:"tel",value:U.telephone||"",onChange:e=>V({...U,telephone:e.target.value}),className:"text-sm h-8 sm:h-10",placeholder:b("T\xe9l\xe9phone","T\xe9l\xe9phone")}):(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center space-x-2",children:[(0,t.jsx)(A.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-muted-foreground flex-shrink-0"}),(0,t.jsx)("span",{className:"jsx-4f57d6e22a251548 text-sm sm:text-base font-semibold text-foreground",children:ej.telephone})]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-2",children:[(0,t.jsx)(x.J,{className:"text-xs sm:text-sm font-medium text-muted-foreground",dir:"auto",children:b("job_title")}),Y?(0,t.jsx)(m.p,{type:"text",value:U.job_title||"",onChange:e=>V({...U,job_title:e.target.value}),className:"text-sm h-8 sm:h-10",placeholder:b("job_title")}):(0,t.jsx)("div",{dir:"auto",className:"jsx-4f57d6e22a251548 text-sm sm:text-base font-semibold text-foreground",children:ej.job_title})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-2",children:[(0,t.jsx)(x.J,{className:"text-xs sm:text-sm font-medium text-muted-foreground",dir:"auto",children:b("status")}),Y?(0,t.jsxs)("select",{value:U.status||"active",onChange:e=>V({...U,status:e.target.value}),className:"jsx-4f57d6e22a251548 w-full text-sm h-8 sm:h-10 px-3 py-1 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent",children:[(0,t.jsx)("option",{value:"active",className:"jsx-4f57d6e22a251548",children:b("active")}),(0,t.jsx)("option",{value:"inactive",className:"jsx-4f57d6e22a251548",children:b("inactive")})]}):(0,t.jsx)(c.E,{variant:"active"===ej.status?"default":"secondary",className:"text-xs sm:text-sm",dir:"auto",children:"active"===ej.status?b("active"):b("inactive")})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-2",children:[(0,t.jsx)(x.J,{className:"text-xs sm:text-sm font-medium text-muted-foreground",dir:"auto",children:b("hire_date")}),Y?(0,t.jsx)(m.p,{type:"date",value:U.hire_date||"",onChange:e=>V({...U,hire_date:e.target.value}),className:"text-sm h-8 sm:h-10"}):(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center space-x-2",children:[(0,t.jsx)(h.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-muted-foreground flex-shrink-0"}),(0,t.jsx)("span",{className:"jsx-4f57d6e22a251548 text-sm sm:text-base font-semibold text-foreground",children:(console.log("[v0] Employee created_at value:",ej.created_at),eR(ej.created_at))})]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-2",children:[(0,t.jsx)(x.J,{className:"text-xs sm:text-sm font-medium text-muted-foreground",dir:"auto",children:b("username","Nom d'utilisateur")}),Y?(0,t.jsx)(m.p,{type:"text",value:U.username||"",onChange:e=>V({...U,username:e.target.value}),className:"text-sm h-8 sm:h-10",placeholder:b("username","Nom d'utilisateur")}):(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-sm sm:text-base font-semibold text-foreground",children:(null==ej?void 0:null===(e=ej.user)||void 0===e?void 0:e.username)||"N/A"})]}),Y&&(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-2",children:[(0,t.jsx)(x.J,{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:b("new_password","Nouveau mot de passe")}),(0,t.jsx)(m.p,{type:"password",value:U.password||"",onChange:e=>V({...U,password:e.target.value}),className:"text-sm h-8 sm:h-10",placeholder:b("leave_empty_to_keep","Laisser vide pour conserver")})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-2",children:[(0,t.jsx)(x.J,{className:"text-xs sm:text-sm font-medium text-muted-foreground",dir:"auto",children:"Location"}),Y?(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 relative",children:(0,t.jsxs)("select",{value:U.location_id||"",onChange:e=>V({...U,location_id:e.target.value}),style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' strokeLinecap='round' strokeLinejoin='round' strokeWidth='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},className:"jsx-4f57d6e22a251548 w-full text-sm h-8 sm:h-10 px-3 py-1 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent appearance-none cursor-pointer hover:border-ring/50 transition-colors",children:[(0,t.jsx)("option",{value:"",disabled:!0,className:"jsx-4f57d6e22a251548 text-muted-foreground",children:"S\xe9lectionner une location"}),e_.map(e=>(0,t.jsx)("option",{value:e.id,className:"jsx-4f57d6e22a251548 text-foreground",children:e.name},e.id))]})}):(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 w-2 h-2 bg-primary rounded-full flex-shrink-0"}),(0,t.jsx)("span",{dir:"auto",className:"jsx-4f57d6e22a251548 text-sm sm:text-base font-semibold text-foreground",children:(console.log("[v0] Employee location object:",ej.location),console.log("[v0] Employee location ID:",null===(s=ej.location)||void 0===s?void 0:s.id),(null===(a=ej.location)||void 0===a?void 0:a.name)||(e=>{if(console.log("[v0] Location ID received:",e,"Type:",typeof e),!e)return console.log("[v0] Location ID is null/undefined"),"Non assign\xe9";let s=e_.find(s=>s.id===String(e));return console.log("[v0] Found location:",s),s?s.name:"Non assign\xe9"})(null===(r=ej.location)||void 0===r?void 0:r.id)||"Non assign\xe9")})]})]})]})})]}),(0,t.jsxs)(i.Zp,{className:"glass-card backdrop-blur-futuristic border-0 shadow-2xl bg-gradient-to-br from-card to-card/80",children:[(0,t.jsx)(i.aR,{className:"p-4 sm:p-6",children:(0,t.jsxs)(i.ZB,{className:"flex items-center text-base sm:text-lg",children:[(0,t.jsx)(D.A,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"})," ",(0,t.jsx)("span",{dir:"auto",className:"jsx-4f57d6e22a251548",children:b("financial_info")})]})}),(0,t.jsxs)(i.Wu,{className:"p-4 sm:p-6 pt-0",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6",children:[{key:"salaire",label:b("salary"),icon:D.A,color:"text-primary"},{key:"prime",label:b("bonus"),icon:R.A,color:"text-green-600"},{key:"avance",label:b("advance"),icon:D.A,color:"text-red-600"}].map(e=>{var s;return(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-2",children:[(0,t.jsxs)(x.J,{className:"text-xs sm:text-sm font-medium text-muted-foreground flex items-center",dir:"auto",children:[(0,t.jsx)(e.icon,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 ".concat(e.color)}),e.label]}),Y?(0,t.jsx)(m.p,{type:"number",value:null!==(s=U[e.key])&&void 0!==s?s:0,onChange:s=>V({...U,[e.key]:Number.parseInt(s.target.value)||0}),className:"text-sm h-8 sm:h-10"}):(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-lg sm:text-xl font-bold text-foreground",children:L(ej[e.key]||0)})]},e.key)})}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 mt-4 sm:mt-6 p-3 sm:p-4 bg-accent/30 rounded-lg",children:(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center justify-between",children:[(0,t.jsx)("span",{dir:"auto",className:"jsx-4f57d6e22a251548 text-xs sm:text-sm font-medium text-muted-foreground",children:b("net_salary_est")}),(0,t.jsx)("span",{className:"jsx-4f57d6e22a251548 text-lg sm:text-xl font-bold text-foreground",children:L((ej.salaire||0)+(ej.prime||0)-(ej.avance||0))})]})})]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[(0,t.jsxs)(i.Zp,{className:"glass-card backdrop-blur-futuristic border-0 shadow-2xl bg-gradient-to-br from-card to-card/80",children:[(0,t.jsx)(i.aR,{className:"p-4 sm:p-6",children:(0,t.jsxs)(i.ZB,{className:"flex items-center text-base sm:text-lg",children:[(0,t.jsx)(M.A,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"})," ",(0,t.jsx)("span",{dir:"auto",className:"jsx-4f57d6e22a251548",children:b("performance_title")})]})}),(0,t.jsxs)(i.Wu,{className:"p-4 sm:p-6 pt-0 space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-center",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-2xl sm:text-4xl font-bold text-foreground mb-2",children:[W(eM),"%"]}),(0,t.jsx)(c.E,{variant:eM>=80?"default":eM>=60?"secondary":"destructive",className:"text-xs sm:text-sm",dir:"auto",children:eM>=80?b("excellent"):eM>=60?b("good"):b("needs_improvement")})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex justify-between text-xs sm:text-sm mb-1",children:[(0,t.jsx)("span",{dir:"auto",className:"jsx-4f57d6e22a251548",children:b("overall_performance")}),(0,t.jsxs)("span",{className:"jsx-4f57d6e22a251548",children:[W(eM),"%"]})]}),(0,t.jsx)(u.k,{value:eM,className:"h-2"})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-center",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-lg sm:text-xl font-bold text-foreground",children:[W(Number(ez.toFixed(0))),"h"]}),(0,t.jsx)("div",{dir:"auto",className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground",children:b("worked_hours")})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-center",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-lg sm:text-xl font-bold text-foreground",children:W(eg.length)}),(0,t.jsx)("div",{dir:"auto",className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground",children:b("sessions")})]})]})]})]}),(0,t.jsxs)(i.Zp,{className:"glass-card backdrop-blur-futuristic border-0 shadow-2xl bg-gradient-to-br from-card to-card/80",children:[(0,t.jsx)(i.aR,{className:"p-4 sm:p-6",children:(0,t.jsxs)(i.ZB,{className:"flex items-center text-base sm:text-lg",children:[(0,t.jsx)(z.A,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"})," ",(0,t.jsx)("span",{dir:"auto",className:"jsx-4f57d6e22a251548",children:b("disciplinary_data")})]})}),(0,t.jsx)(i.Wu,{className:"p-4 sm:p-6 pt-0",children:(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-center py-4 text-muted-foreground",children:(0,t.jsx)("p",{className:"jsx-4f57d6e22a251548 text-sm",children:"Syst\xe8me disciplinaire d\xe9taill\xe9 disponible ci-dessous"})})})]})]}),(0,t.jsxs)(i.Zp,{className:"glass-card backdrop-blur-futuristic border-0 shadow-2xl bg-gradient-to-br from-card to-card/80",children:[(0,t.jsx)(i.aR,{className:"p-4 sm:p-6",children:(0,t.jsxs)(i.ZB,{className:"flex items-center text-base sm:text-lg",children:[(0,t.jsx)(z.A,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),(0,t.jsx)("span",{dir:"auto",className:"jsx-4f57d6e22a251548",children:"Donn\xe9es Disciplinaires"})]})}),(0,t.jsx)(i.Wu,{className:"p-4 sm:p-6 pt-0",children:(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 bg-gradient-to-br from-red-500/10 to-red-600/5 border border-red-500/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"jsx-4f57d6e22a251548 text-lg font-semibold text-red-400 flex items-center",children:[(0,t.jsx)(z.A,{className:"w-5 h-5 mr-2"}),"Infractions"]}),(0,t.jsxs)(o.$,{size:"sm",className:"bg-red-500/20 hover:bg-red-500/30 text-red-400 border-red-500/30",onClick:()=>eE("infraction"),disabled:!X.infraction.name.trim()||!X.infraction.price,children:[(0,t.jsx)(P.A,{className:"w-4 h-4 mr-1"}),"Ajouter"]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-3",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 bg-background/50 rounded-md p-3 space-y-2",children:[(0,t.jsx)(m.p,{placeholder:"Nom de l'infraction",className:"h-8 text-sm bg-background/80",value:X.infraction.name,onChange:e=>ek("infraction","name",e.target.value)}),(0,t.jsx)(m.p,{placeholder:"Prix (DT)",type:"number",className:"h-8 text-sm bg-background/80",value:X.infraction.price,onChange:e=>ek("infraction","price",e.target.value)}),(0,t.jsx)(m.p,{placeholder:"Description",className:"h-8 text-sm bg-background/80",value:X.infraction.description,onChange:e=>ek("infraction","description",e.target.value)}),(0,t.jsx)(N,{date:X.infraction.date,onDateChange:e=>eC("infraction",e),placeholder:"Date de l'infraction",className:"h-8 sm:h-10"})]}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 space-y-2 max-h-32 overflow-y-auto",children:eb.length>0?eb.map(e=>(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 bg-background/30 rounded-md p-2 text-sm",children:(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex-1",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 font-medium text-red-400",children:e.name}),e.description&&(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground mt-1",children:e.description}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground mt-1",children:eA(e.dat)})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-right flex items-start space-x-2",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 font-semibold text-red-400",children:L(e.price)}),(0,t.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-6 w-6 text-red-400 hover:text-red-600 hover:bg-red-500/20",onClick:()=>eu({variables:{id:e.id}}),children:(0,t.jsx)(C.A,{className:"h-4 w-4"})})]})]})},e.id)):(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground text-center py-2",children:"Aucune infraction enregistr\xe9e"})})]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 bg-gradient-to-br from-orange-500/10 to-orange-600/5 border border-orange-500/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"jsx-4f57d6e22a251548 text-lg font-semibold text-orange-400 flex items-center",children:[(0,t.jsx)(h.A,{className:"w-5 h-5 mr-2"}),"Absences"]}),(0,t.jsxs)(o.$,{size:"sm",className:"bg-orange-500/20 hover:bg-orange-500/30 text-orange-400 border-orange-500/30",onClick:()=>eE("absence"),disabled:!X.absence.name.trim()||!X.absence.price,children:[(0,t.jsx)(P.A,{className:"w-4 h-4 mr-1"}),"Ajouter"]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-3",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 bg-background/50 rounded-md p-3 space-y-2",children:[(0,t.jsx)(m.p,{placeholder:"Nom de l'absence",className:"h-8 text-sm bg-background/80",value:X.absence.name,onChange:e=>ek("absence","name",e.target.value)}),(0,t.jsx)(m.p,{placeholder:"Prix (DT)",type:"number",className:"h-8 text-sm bg-background/80",value:X.absence.price,onChange:e=>ek("absence","price",e.target.value)}),(0,t.jsx)(m.p,{placeholder:"Description",className:"h-8 text-sm bg-background/80",value:X.absence.description,onChange:e=>ek("absence","description",e.target.value)}),(0,t.jsx)(N,{date:X.absence.date,onDateChange:e=>eC("absence",e),placeholder:"Date de l'absence",className:" h-8 sm:h-10"})]}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 space-y-2 max-h-32 overflow-y-auto",children:eN.length>0?eN.map(e=>(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 bg-background/30 rounded-md p-2 text-sm",children:(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex-1",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 font-medium text-orange-400",children:e.name}),e.description&&(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground mt-1",children:e.description}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground mt-1",children:eA(e.dat)})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-right flex items-start space-x-2",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 font-semibold text-orange-400",children:L(e.price)}),(0,t.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-6 w-6 text-orange-400 hover:text-orange-600 hover:bg-orange-500/20",onClick:()=>ef({variables:{id:e.id}}),children:(0,t.jsx)(C.A,{className:"h-4 w-4"})})]})]})},e.id)):(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground text-center py-2",children:"Aucune absence enregistr\xe9e"})})]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 bg-gradient-to-br from-yellow-500/10 to-yellow-600/5 border border-yellow-500/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"jsx-4f57d6e22a251548 text-lg font-semibold text-yellow-400 flex items-center",children:[(0,t.jsx)(T.A,{className:"w-5 h-5 mr-2"}),"Retards"]}),(0,t.jsxs)(o.$,{size:"sm",className:"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 border-yellow-500/30",onClick:()=>eE("retard"),disabled:!X.retard.name.trim()||!X.retard.price,children:[(0,t.jsx)(P.A,{className:"w-4 h-4 mr-1"}),"Ajouter"]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-3",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 bg-background/50 rounded-md p-3 space-y-2",children:[(0,t.jsx)(m.p,{placeholder:"Nom du retard",className:"h-8 text-sm bg-background/80",value:X.retard.name,onChange:e=>ek("retard","name",e.target.value)}),(0,t.jsx)(m.p,{placeholder:"Prix (DT)",type:"number",className:"h-8 text-sm bg-background/80",value:X.retard.price,onChange:e=>ek("retard","price",e.target.value)}),(0,t.jsx)(m.p,{placeholder:"Description",className:"h-8 text-sm bg-background/80",value:X.retard.description,onChange:e=>ek("retard","description",e.target.value)}),(0,t.jsx)(N,{date:X.retard.date,onDateChange:e=>eC("retard",e),placeholder:"Date du retard",className:" h-8 sm:h-10"})]}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 space-y-2 max-h-32 overflow-y-auto",children:ey.length>0?ey.map(e=>(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 bg-background/30 rounded-md p-2 text-sm",children:(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex-1",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 font-medium text-yellow-400",children:e.name}),e.description&&(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground mt-1",children:e.description}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground mt-1",children:eA(e.dat)})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-right flex items-start space-x-2",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 font-semibold text-yellow-400",children:L(e.price)}),(0,t.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-6 w-6 text-yellow-400 hover:text-yellow-600 hover:bg-yellow-500/20",onClick:()=>eh({variables:{id:e.id}}),children:(0,t.jsx)(C.A,{className:"h-4 w-4"})})]})]})},e.id)):(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground text-center py-2",children:"Aucun retard enregistr\xe9"})})]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"jsx-4f57d6e22a251548 text-lg font-semibold text-blue-400 flex items-center",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 mr-2"}),"Tenues de Travail"]}),(0,t.jsxs)(o.$,{size:"sm",className:"bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 border-blue-500/30",onClick:()=>eE("tenue"),disabled:!X.tenue.name.trim()||!X.tenue.price,children:[(0,t.jsx)(P.A,{className:"w-4 h-4 mr-1"}),"Ajouter"]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 space-y-3",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 bg-background/50 rounded-md p-3 space-y-2",children:[(0,t.jsx)(m.p,{placeholder:"Nom de la tenue",className:"h-8 text-sm bg-background/80",value:X.tenue.name,onChange:e=>ek("tenue","name",e.target.value)}),(0,t.jsx)(m.p,{placeholder:"Prix (DT)",type:"number",className:"h-8 text-sm bg-background/80",value:X.tenue.price,onChange:e=>ek("tenue","price",e.target.value)}),(0,t.jsx)(m.p,{placeholder:"Description",className:"h-8 text-sm bg-background/80",value:X.tenue.description,onChange:e=>ek("tenue","description",e.target.value)}),(0,t.jsx)(N,{date:X.tenue.date,onDateChange:e=>eC("tenue",e),placeholder:"Date de la tenue",className:" h-8 sm:h-10"})]}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 space-y-2 max-h-32 overflow-y-auto",children:ew.length>0?ew.map(e=>(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 bg-background/30 rounded-md p-2 text-sm",children:(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex-1",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 font-medium text-blue-400",children:e.name}),e.description&&(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground mt-1",children:e.description}),(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground mt-1",children:eA(e.dat)})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-right flex items-start space-x-2",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 font-semibold text-blue-400",children:L(e.price)}),(0,t.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-6 w-6 text-blue-400 hover:text-blue-600 hover:bg-blue-500/20",onClick:()=>ep({variables:{id:e.id}}),children:(0,t.jsx)(C.A,{className:"h-4 w-4"})})]})]})},e.id)):(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground text-center py-2",children:"Aucune tenue enregistr\xe9e"})})]})]})]})})]}),(0,t.jsxs)(i.Zp,{className:"glass-card backdrop-blur-futuristic border-0 shadow-2xl bg-gradient-to-br from-card to-card/80",children:[(0,t.jsxs)(i.aR,{className:"p-4 sm:p-6",children:[(0,t.jsxs)(i.ZB,{className:"flex items-center text-base sm:text-lg",children:[(0,t.jsx)(T.A,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"})," ",(0,t.jsx)("span",{dir:"auto",className:"jsx-4f57d6e22a251548",children:b("recent_activity")})]}),(0,t.jsx)(i.BT,{className:"text-sm",dir:"auto",children:b("recent_sessions")})]}),(0,t.jsx)(i.Wu,{className:"p-4 sm:p-6 pt-0",children:eg.length>0?(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 space-y-3 sm:space-y-4",children:eg.slice(0,5).map((e,s)=>(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center justify-between p-3 bg-accent/30 rounded-lg",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 w-6 h-6 sm:w-8 sm:h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:(0,t.jsx)(T.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-primary"})}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548",children:[(0,t.jsx)("p",{className:"jsx-4f57d6e22a251548 text-xs sm:text-sm font-medium",children:eR(e.date)}),(0,t.jsxs)("p",{dir:"auto",className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground",children:[e.shift_type," - ",e.job_position]})]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-right",children:[(0,t.jsxs)("p",{className:"jsx-4f57d6e22a251548 text-xs sm:text-sm font-medium",children:[e.start_time," - ",e.end_time||b("in_progress")]}),(0,t.jsx)(c.E,{variant:e.is_working?"default":"secondary",className:"text-xs",dir:"auto",children:e.is_working?b("active"):b("done")})]})]},s))}):(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-center py-6 sm:py-8 text-muted-foreground",children:[(0,t.jsx)(T.A,{className:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{dir:"auto",className:"jsx-4f57d6e22a251548 text-sm",children:b("no_recent_activity")})]})})]}),ev.length>0&&(0,t.jsxs)(i.Zp,{className:"glass-card backdrop-blur-futuristic border-0 shadow-2xl bg-gradient-to-br from-card to-card/80",children:[(0,t.jsx)(i.aR,{className:"p-4 sm:p-6",children:(0,t.jsxs)(i.ZB,{className:"flex items-center text-base sm:text-lg",children:[(0,t.jsx)(S.A,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"})," ",(0,t.jsx)("span",{dir:"auto",className:"jsx-4f57d6e22a251548",children:b("contracts")})]})}),(0,t.jsx)(i.Wu,{className:"p-4 sm:p-6 pt-0",children:(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 space-y-3 sm:space-y-4",children:ev.map((e,s)=>(0,t.jsx)("div",{className:"jsx-4f57d6e22a251548 border border-border rounded-lg p-3 sm:p-4",children:(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548",children:[(0,t.jsxs)("h4",{dir:"auto",className:"jsx-4f57d6e22a251548 text-sm sm:text-base font-semibold",children:[b("contract_prefix")," ",e.contract_type]}),(0,t.jsxs)("p",{dir:"auto",className:"jsx-4f57d6e22a251548 text-xs sm:text-sm text-muted-foreground",children:[b("from")," ",eR(e.start_date),e.end_date&&" ".concat(b("to")," ").concat(eR(e.end_date))]})]}),(0,t.jsxs)("div",{className:"jsx-4f57d6e22a251548 text-right",children:[(0,t.jsx)("p",{className:"jsx-4f57d6e22a251548 text-sm sm:text-base font-semibold",children:L(e.salary)}),(0,t.jsxs)("p",{className:"jsx-4f57d6e22a251548 text-xs text-muted-foreground",children:[W(e.tenu_count)," ",b("uniforms_count")]})]})]})},s))})})]})]}),(0,t.jsx)(l(),{id:"4f57d6e22a251548",children:"@-webkit-keyframes shimmer{0%{-webkit-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);transform:translatex(100%)}}@-moz-keyframes shimmer{0%{-moz-transform:translatex(-100%);transform:translatex(-100%)}100%{-moz-transform:translatex(100%);transform:translatex(100%)}}@-o-keyframes shimmer{0%{-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-o-transform:translatex(100%);transform:translatex(100%)}}@keyframes shimmer{0%{-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}}"})]}):(0,t.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none z-0",children:(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/80 via-purple-900/60 to-slate-900/80 backdrop-blur-[6px]"})}),(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[50vh] p-4 relative z-20",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Employee not found"}),(0,t.jsx)(o.$,{onClick:()=>p.back(),variant:"outline",children:"Go Back"})]})})]})}},60823:(e,s,a)=>{"use strict";a.d(s,{AM:()=>d,Wv:()=>i,hl:()=>o});var t=a(95155),r=a(12115),l=a(20547),n=a(53999);let d=l.bL,i=l.l9,o=r.forwardRef((e,s)=>{let{className:a,align:r="center",sideOffset:d=4,...i}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsx)(l.UC,{ref:s,align:r,sideOffset:d,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});o.displayName=l.UC.displayName},82714:(e,s,a)=>{"use strict";a.d(s,{J:()=>o});var t=a(95155),r=a(12115),l=a(40968),n=a(74466),d=a(53999);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.b,{ref:s,className:(0,d.cn)(i(),a),...r})});o.displayName=l.b.displayName},88145:(e,s,a)=>{"use strict";a.d(s,{E:()=>d});var t=a(95155);a(12115);var r=a(74466),l=a(53999);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:a}),s),...r})}},89852:(e,s,a)=>{"use strict";a.d(s,{p:()=>n});var t=a(95155),r=a(12115),l=a(53999);let n=r.forwardRef((e,s)=>{let{className:a,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...n})});n.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[7477,8916,5180,4762,913,5152,2553,6786,5516,4432,8441,1684,7358],()=>s(28164)),_N_E=e.O()}]);