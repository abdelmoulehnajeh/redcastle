(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1954],{25134:(e,a,t)=>{Promise.resolve().then(t.bind(t,58015))},27737:(e,a,t)=>{"use strict";t.d(a,{E:()=>s});var r=t(95155),o=t(53999);function s(e){let{className:a,...t}=e;return(0,r.jsx)("div",{className:(0,o.cn)("animate-pulse rounded-md bg-muted",a),...t})}},58015:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>eI});var r=t(95155),o=t(12115),s=t(35695),n=t(5138),i=t(34998),l=t(77685),d=t(6874),c=t.n(d),u=t(99708),m=t(74466),g=t(22432),f=t(53999),p=t(97168),b=t(89852),x=t(76037),h=t(15452),v=t(54416);let y=h.bL;h.l9,h.bm;let w=h.ZL,j=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(h.hJ,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...o,ref:a})});j.displayName=h.hJ.displayName;let N=(0,m.F)("fixed z-50 gap-4 bg-white dark:bg-gray-900 p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),k=o.forwardRef((e,a)=>{let{side:t="right",className:o,children:s,...n}=e;return(0,r.jsxs)(w,{children:[(0,r.jsx)(j,{}),(0,r.jsxs)(h.UC,{ref:a,className:(0,f.cn)(N({side:t}),o),...n,children:[(0,r.jsx)(A,{className:"sr-only",children:"Sidebar"}),s,(0,r.jsxs)(h.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(v.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});k.displayName=h.UC.displayName;let A=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(h.hE,{ref:a,className:(0,f.cn)("text-lg font-semibold text-foreground",t),...o})});A.displayName=h.hE.displayName,o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(h.VY,{ref:a,className:(0,f.cn)("text-sm text-muted-foreground",t),...o})}).displayName=h.VY.displayName;var S=t(27737),_=t(89613);let z=_.Kq,E=_.bL,R=_.l9,C=o.forwardRef((e,a)=>{let{className:t,sideOffset:o=4,...s}=e;return(0,r.jsx)(_.UC,{ref:a,sideOffset:o,className:(0,f.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})});C.displayName=_.UC.displayName;let L=o.createContext(null);function T(){let e=o.useContext(L);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let P=o.forwardRef((e,a)=>{let{defaultOpen:t=!0,open:s,onOpenChange:n,className:i,style:l,children:d,...c}=e,u=function(){let[e,a]=o.useState(void 0);return o.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),t=()=>{a(window.innerWidth<768)};return e.addEventListener("change",t),a(window.innerWidth<768),()=>e.removeEventListener("change",t)},[]),!!e}(),[m,g]=o.useState(!1),[p,b]=o.useState(t),x=null!=s?s:p,h=o.useCallback(e=>{let a="function"==typeof e?e(x):e;n?n(a):b(a),document.cookie="".concat("sidebar:state","=").concat(a,"; path=/; max-age=").concat(604800)},[n,x]),v=o.useCallback(()=>u?g(e=>!e):h(e=>!e),[u,h,g]);o.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),v())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v]);let y=x?"expanded":"collapsed",w=o.useMemo(()=>({state:y,open:x,setOpen:h,isMobile:u,openMobile:m,setOpenMobile:g,toggleSidebar:v}),[y,x,h,u,m,g,v]);return(0,r.jsx)(L.Provider,{value:w,children:(0,r.jsx)(z,{delayDuration:0,children:(0,r.jsx)("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...l},className:(0,f.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",i),ref:a,...c,children:d})})})});P.displayName="SidebarProvider";let M=o.forwardRef((e,a)=>{let{side:t="left",variant:o="sidebar",collapsible:s="offcanvas",className:n,children:i,...l}=e,{isMobile:d,state:c,openMobile:u,setOpenMobile:m}=T();return"none"===s?(0,r.jsx)("div",{className:(0,f.cn)("flex h-full w-[--sidebar-width] flex-col bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",n),ref:a,...l,children:i}):d?(0,r.jsx)(y,{open:u,onOpenChange:m,...l,children:(0,r.jsx)(k,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-white dark:bg-gray-900 p-0 text-gray-900 dark:text-gray-100 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:(0,r.jsx)("div",{className:"flex h-full w-full flex-col bg-white dark:bg-gray-900",children:i})})}):(0,r.jsxs)("div",{ref:a,className:"group peer hidden md:block text-gray-900 dark:text-gray-100","data-state":c,"data-collapsible":"collapsed"===c?s:"","data-variant":o,"data-side":t,children:[(0,r.jsx)("div",{className:(0,f.cn)("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===o||"inset"===o?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,r.jsx)("div",{className:(0,f.cn)("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===o||"inset"===o?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...l,children:(0,r.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-white dark:bg-gray-900 group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-gray-200 dark:group-data-[variant=floating]:border-gray-700 group-data-[variant=floating]:shadow",children:i})})]})});M.displayName="Sidebar";let q=o.forwardRef((e,a)=>{let{className:t,onClick:o,...s}=e,{toggleSidebar:n}=T();return(0,r.jsxs)(p.$,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:(0,f.cn)("h-7 w-7",t),onClick:e=>{null==o||o(e),n()},...s,children:[(0,r.jsx)(g.A,{}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})});q.displayName="SidebarTrigger",o.forwardRef((e,a)=>{let{className:t,...o}=e,{toggleSidebar:s}=T();return(0,r.jsx)("button",{ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:(0,f.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-gray-200 dark:hover:after:bg-gray-700 group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-white dark:group-data-[collapsible=offcanvas]:hover:bg-gray-900","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...o})}).displayName="SidebarRail",o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("main",{ref:a,className:(0,f.cn)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...o})}).displayName="SidebarInset",o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(b.p,{ref:a,"data-sidebar":"input",className:(0,f.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-red-500",t),...o})}).displayName="SidebarInput";let D=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"header",className:(0,f.cn)("flex flex-col gap-2 p-2 bg-white dark:bg-gray-900",t),...o})});D.displayName="SidebarHeader",o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"footer",className:(0,f.cn)("flex flex-col gap-2 p-2 bg-white dark:bg-gray-900",t),...o})}).displayName="SidebarFooter",o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(x.w,{ref:a,"data-sidebar":"separator",className:(0,f.cn)("mx-2 w-auto bg-gray-200 dark:bg-gray-700",t),...o})}).displayName="SidebarSeparator";let U=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"content",className:(0,f.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-white dark:bg-gray-900",t),...o})});U.displayName="SidebarContent";let I=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"group",className:(0,f.cn)("relative flex w-full min-w-0 flex-col p-2 bg-white dark:bg-gray-900",t),...o})});I.displayName="SidebarGroup";let F=o.forwardRef((e,a)=>{let{className:t,asChild:o=!1,...s}=e,n=o?u.DX:"div";return(0,r.jsx)(n,{ref:a,"data-sidebar":"group-label",className:(0,f.cn)("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-gray-600 dark:text-gray-400 outline-none ring-red-500 transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...s})});F.displayName="SidebarGroupLabel",o.forwardRef((e,a)=>{let{className:t,asChild:o=!1,...s}=e,n=o?u.DX:"button";return(0,r.jsx)(n,{ref:a,"data-sidebar":"group-action",className:(0,f.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-gray-600 dark:text-gray-400 outline-none ring-red-500 transition-transform hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...s})}).displayName="SidebarGroupAction";let B=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"group-content",className:(0,f.cn)("w-full text-sm bg-white dark:bg-gray-900",t),...o})});B.displayName="SidebarGroupContent";let G=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("ul",{ref:a,"data-sidebar":"menu",className:(0,f.cn)("flex w-full min-w-0 flex-col gap-1 bg-white dark:bg-gray-900",t),...o})});G.displayName="SidebarMenu";let V=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("li",{ref:a,"data-sidebar":"menu-item",className:(0,f.cn)("group/menu-item relative bg-white dark:bg-gray-900",t),...o})});V.displayName="SidebarMenuItem";let J=(0,m.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-red-500 transition-[width,height,padding] hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 focus-visible:ring-2 active:bg-gray-100 dark:active:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-red-600 data-[active=true]:font-medium data-[active=true]:text-white data-[state=open]:hover:bg-gray-100 dark:data-[state=open]:hover:bg-gray-800 data-[state=open]:hover:text-gray-900 dark:data-[state=open]:hover:text-gray-100 group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--border))] hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 hover:shadow-[0_0_0_1px_hsl(var(--accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),X=o.forwardRef((e,a)=>{let{asChild:t=!1,isActive:o=!1,variant:s="default",size:n="default",tooltip:i,className:l,...d}=e,c=t?u.DX:"button",{isMobile:m,state:g}=T(),p=(0,r.jsx)(c,{ref:a,"data-sidebar":"menu-button","data-size":n,"data-active":o,className:(0,f.cn)(J({variant:s,size:n}),l),...d});return i?("string"==typeof i&&(i={children:i}),(0,r.jsxs)(E,{children:[(0,r.jsx)(R,{asChild:!0,children:p}),(0,r.jsx)(C,{side:"right",align:"center",hidden:"collapsed"!==g||m,...i})]})):p});X.displayName="SidebarMenuButton",o.forwardRef((e,a)=>{let{className:t,asChild:o=!1,showOnHover:s=!1,...n}=e,i=o?u.DX:"button";return(0,r.jsx)(i,{ref:a,"data-sidebar":"menu-action",className:(0,f.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-gray-600 dark:text-gray-400 outline-none ring-red-500 transition-transform hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 focus-visible:ring-2 peer-hover/menu-button:text-gray-900 dark:peer-hover/menu-button:text-gray-100 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-white md:opacity-0",t),...n})}).displayName="SidebarMenuAction",o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"menu-badge",className:(0,f.cn)("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-gray-600 dark:text-gray-400 select-none pointer-events-none","peer-hover/menu-button:text-gray-900 dark:peer-hover/menu-button:text-gray-100 peer-data-[active=true]/menu-button:text-white","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...o})}).displayName="SidebarMenuBadge",o.forwardRef((e,a)=>{let{className:t,showIcon:s=!1,...n}=e,i=o.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,r.jsxs)("div",{ref:a,"data-sidebar":"menu-skeleton",className:(0,f.cn)("rounded-md h-8 flex gap-2 px-2 items-center bg-white dark:bg-gray-900",t),...n,children:[s&&(0,r.jsx)(S.E,{className:"size-4 rounded-md bg-gray-200 dark:bg-gray-700","data-sidebar":"menu-skeleton-icon"}),(0,r.jsx)(S.E,{className:"h-4 flex-1 max-w-[--skeleton-width] bg-gray-200 dark:bg-gray-700","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})}).displayName="SidebarMenuSkeleton",o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("ul",{ref:a,"data-sidebar":"menu-sub",className:(0,f.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-gray-200 dark:border-gray-700 px-2.5 py-0.5 bg-white dark:bg-gray-900","group-data-[collapsible=icon]:hidden",t),...o})}).displayName="SidebarMenuSub",o.forwardRef((e,a)=>{let{...t}=e;return(0,r.jsx)("li",{ref:a,...t})}).displayName="SidebarMenuSubItem",o.forwardRef((e,a)=>{let{asChild:t=!1,size:o="md",isActive:s,className:n,...i}=e,l=t?u.DX:"a";return(0,r.jsx)(l,{ref:a,"data-sidebar":"menu-sub-button","data-size":o,"data-active":s,className:(0,f.cn)("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-gray-600 dark:text-gray-400 outline-none ring-red-500 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 focus-visible:ring-2 active:bg-gray-100 dark:active:bg-gray-800 active:text-gray-900 dark:active:text-gray-100 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-gray-600 dark:[&>svg]:text-gray-400","data-[active=true]:bg-gray-100 dark:data-[active=true]:bg-gray-800 data-[active=true]:text-gray-900 dark:data-[active=true]:text-gray-100","sm"===o&&"text-xs","md"===o&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})}).displayName="SidebarMenuSubButton";var O=t(11518),$=t.n(O),Y=t(73783),H=t(14186),Z=t(69074),W=t(55868),K=t(57434),Q=t(17580),ee=t(4516),ea=t(19145),et=t(55670),er=t(76052);let eo=[{title:"Tableau de Bord",url:"/dashboard",icon:Y.A,description:"Vue d'ensemble",gradient:"from-blue-500 to-cyan-500"},{title:"Pointeuse",url:"/dashboard/pointeuse",icon:H.A,description:"Gestion du temps",gradient:"from-emerald-500 to-teal-500"},{title:"Journal",url:"/dashboard/journal",icon:Z.A,description:"Planning et historique",gradient:"from-purple-500 to-pink-500"},{title:"Finance",url:"/dashboard/finance",icon:W.A,description:"Salaire et infractions",gradient:"from-yellow-500 to-orange-500"},{title:"Contrats",url:"/dashboard/contrats",icon:K.A,description:"D\xe9tails contractuels",gradient:"from-indigo-500 to-purple-500"},{title:"Demande Cong\xe9",url:"/dashboard/leave-request",icon:K.A,description:"Demandes de cong\xe9",gradient:"from-green-500 to-emerald-500"}],es=[{title:"Tableau de Bord",url:"/dashboard/admin",icon:Y.A,description:"Vue d'ensemble admin",gradient:"from-red-500 to-orange-500"},{title:"Employ\xe9s",url:"/dashboard/admin/employees",icon:Q.A,description:"Gestion employ\xe9s",gradient:"from-blue-500 to-indigo-500"},{title:"Restaurants",url:"/dashboard/admin/locations",icon:ee.A,description:"Gestion des lieux",gradient:"from-purple-500 to-pink-500"},{title:"Journal",url:"/dashboard/admin/journal",icon:Z.A,description:"Gestion des plannings",gradient:"from-emerald-500 to-cyan-500"},{title:"Finance",url:"/dashboard/admin/finance",icon:W.A,description:"Gestion financi\xe8re",gradient:"from-yellow-500 to-amber-500"},{title:"Approbations",url:"/dashboard/admin/approvals",icon:ea.A,description:"Approbations Manager",gradient:"from-green-500 to-teal-500"}],en=[{title:"Tableau de Bord",url:"/dashboard/manager",icon:Y.A,description:"Vue d'ensemble",gradient:"from-blue-500 to-purple-500"},{title:"Pointeuse",url:"/dashboard/manager/pointeuse",icon:H.A,description:"Gestion tenues et temps",gradient:"from-emerald-500 to-teal-500"},{title:"Journal",url:"/dashboard/manager/journal",icon:Z.A,description:"Planning employ\xe9s",gradient:"from-purple-500 to-pink-500"},{title:"Finance",url:"/dashboard/manager/finance",icon:W.A,description:"Salaires et finances",gradient:"from-yellow-500 to-orange-500"},{title:"Contrats",url:"/dashboard/manager/contrats",icon:K.A,description:"Gestion contrats",gradient:"from-indigo-500 to-purple-500"},{title:"Demandes Cong\xe9",url:"/dashboard/manager/leave-requests",icon:et.A,description:"Gestion demandes cong\xe9",gradient:"from-green-500 to-emerald-500"},{title:"Employ\xe9s",url:"/dashboard/manager/employees",icon:Q.A,description:"Gestion \xe9quipe",gradient:"from-cyan-500 to-blue-500"}],ei=[{title:"لوحة التحكم",url:"/dashboard",icon:Y.A,description:"نظرة عامة",gradient:"from-blue-500 to-cyan-500"},{title:"آلة البصمة",url:"/dashboard/pointeuse",icon:H.A,description:"إدارة الوقت",gradient:"from-emerald-500 to-teal-500"},{title:"السجل",url:"/dashboard/journal",icon:Z.A,description:"الجدول والسجل",gradient:"from-purple-500 to-pink-500"},{title:"المالية",url:"/dashboard/finance",icon:W.A,description:"الراتب والمخالفات",gradient:"from-yellow-500 to-orange-500"},{title:"العقود",url:"/dashboard/contrats",icon:K.A,description:"تفاصيل العقد",gradient:"from-indigo-500 to-purple-500"},{title:"طلب إجازة",url:"/dashboard/leave-request",icon:K.A,description:"طلبات الإجازة",gradient:"from-green-500 to-emerald-500"}],el=[{title:"لوحة الإدارة",url:"/dashboard/admin",icon:Y.A,description:"نظرة عامة",gradient:"from-red-500 to-orange-500"},{title:"الموظفون",url:"/dashboard/admin/employees",icon:Q.A,description:"إدارة الموظفين",gradient:"from-blue-500 to-indigo-500"},{title:"المطاعم",url:"/dashboard/admin/locations",icon:ee.A,description:"إدارة المواقع",gradient:"from-purple-500 to-pink-500"},{title:"السجل",url:"/dashboard/admin/journal",icon:Z.A,description:"إدارة الجداول",gradient:"from-emerald-500 to-cyan-500"},{title:"المالية",url:"/dashboard/admin/finance",icon:W.A,description:"الإدارة المالية",gradient:"from-yellow-500 to-amber-500"},{title:"الموافقات",url:"/dashboard/admin/approvals",icon:ea.A,description:"موافقات المدير",gradient:"from-green-500 to-teal-500"},{title:"العقود",url:"/dashboard/admin/contrats",icon:K.A,description:"إدارة العقود",gradient:"from-indigo-500 to-purple-500"}],ed=[{title:"لوحة المدير",url:"/dashboard/manager",icon:Y.A,description:"نظرة عامة",gradient:"from-blue-500 to-purple-500"},{title:"آلة البصمة",url:"/dashboard/manager/pointeuse",icon:H.A,description:"إدارة الوقت والزي",gradient:"from-emerald-500 to-teal-500"},{title:"المالية",url:"/dashboard/manager/finance",icon:W.A,description:"الرواتب والمالية",gradient:"from-yellow-500 to-orange-500"},{title:"طلبات الإجازة",url:"/dashboard/manager/leave-requests",icon:et.A,description:"إدارة الطلبات",gradient:"from-green-500 to-emerald-500"},{title:"السجل",url:"/dashboard/manager/journal",icon:Z.A,description:"إدارة الفريق",gradient:"from-cyan-500 to-blue-500"}];function ec(e){var a;let{onNavigate:t}=e,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fr",[a,t]=(0,o.useState)(e);return(0,o.useEffect)(()=>{try{let e=localStorage.getItem("lang"),a="ar"===e?"ar":"fr";t(a),"undefined"!=typeof document&&(document.documentElement.lang=a,document.documentElement.dir="ltr")}catch(e){}},[]),a}("fr"),{state:i}=T(),l=(0,s.usePathname)(),{user:d}=(0,er.A)(),u="collapsed"===i,m=e=>l===e,g=(0,o.useMemo)(()=>(function(e,a){let t="ar"===a;return"admin"===e?t?el:es:"manager"===e?t?ed:en:t?ei:eo})(null==d?void 0:d.role,n),[null==d?void 0:d.role,n]),f=()=>null==t?void 0:t();return(0,r.jsx)(M,{className:"border-none bg-transparent",dir:"ltr",children:(0,r.jsxs)("div",{className:"jsx-f178ca93123a1536 relative h-screen w-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 overflow-hidden z-30 flex flex-col",children:[(0,r.jsxs)("div",{className:"jsx-f178ca93123a1536 absolute inset-0",children:[(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 absolute inset-0 bg-[radial-gradient(circle_at_30%_40%,rgba(120,119,198,0.12),transparent_50%)]"}),(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(255,119,198,0.08),transparent_50%)]"}),[...Array(15)].map((e,a)=>(0,r.jsx)("div",{style:{left:"".concat(53*a%100,"%"),top:"".concat(37*a%100,"%"),animationDelay:"".concat(a%5*.2,"s"),animationDuration:"".concat(2+17*a%20/10,"s")},className:"jsx-f178ca93123a1536 absolute w-1 h-1 bg-white/20 rounded-full animate-pulse"},a))]}),(0,r.jsx)(D,{className:"relative z-10 p-2 sm:p-3 backdrop-blur-xl bg-white/5 border-b border-white/10 flex-shrink-0",children:(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 group relative transform-gpu perspective-1000",children:(0,r.jsxs)("div",{style:{transform:"perspective(1000px) rotateX(3deg)",boxShadow:"0 15px 30px -8px rgba(239, 68, 68, 0.4), 0 0 0 1px rgba(248, 113, 113, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},className:"jsx-f178ca93123a1536 relative bg-gradient-to-r from-red-600/90 via-red-500/90 to-orange-600/90 backdrop-blur-xl border border-red-400/30 rounded-xl p-2 sm:p-3 text-white transition-all duration-500",children:[(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 absolute -top-6 -right-6 sm:-top-8 sm:-right-8 w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-yellow-400/20 to-red-400/20 rounded-full blur-2xl animate-pulse"}),(0,r.jsxs)(c(),{href:"/dashboard",onClick:f,className:"flex items-center cursor-pointer relative z-10",children:[(0,r.jsxs)("div",{style:{boxShadow:"0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.4), inset 0 -1px 0 rgba(0,0,0,0.2)",transform:"perspective(1000px) rotateX(15deg) rotateY(-5deg)"},className:"jsx-f178ca93123a1536 w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-white/30 to-white/10 backdrop-blur-sm rounded-xl flex items-center justify-center shadow-2xl border border-white/30 transform group-hover:scale-110 transition-all duration-300 flex-shrink-0 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 absolute inset-0 bg-gradient-to-br from-transparent via-white/5 to-black/10 rounded-xl"}),(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-white/10 rounded-xl"}),(0,r.jsx)("img",{src:"/REDCASTEL.png",alt:"Red Castel Logo",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.5))"},className:"jsx-f178ca93123a1536 w-8 h-8 sm:w-10 sm:h-10 object-contain"})]}),!u&&(0,r.jsxs)("div",{className:"jsx-f178ca93123a1536 ml-2 sm:ml-3 min-w-0 flex-1",children:[(0,r.jsx)("h1",{dir:"auto",className:"jsx-f178ca93123a1536 text-sm sm:text-base font-bold bg-gradient-to-r from-white via-yellow-100 to-white bg-clip-text text-transparent truncate",children:"Red Castle"}),(0,r.jsx)("p",{dir:"auto",className:"jsx-f178ca93123a1536 text-red-100/80 text-xs truncate",children:(a=null==d?void 0:d.role,"ar"===n?"admin"===a?"مساحة الإدارة":"manager"===a?"مساحة المدير":"مساحة الموظف":"admin"===a?"Espace Admin":"manager"===a?"Espace Manager":"Espace Employ\xe9")})]})]})]})})}),(0,r.jsx)(U,{className:"relative z-10 flex-1 overflow-y-auto overflow-x-hidden backdrop-blur-sm",children:(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 p-2",children:(0,r.jsxs)(I,{children:[(0,r.jsx)(F,{className:"px-2 py-1 text-xs font-semibold text-cyan-400 uppercase tracking-wider mb-1 sticky top-0 bg-slate-900/50 backdrop-blur-sm z-10",children:!u&&(0,r.jsx)("span",{dir:"auto",className:"jsx-f178ca93123a1536 bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"ar"===n?"التنقل":"Navigation"})}),(0,r.jsx)(B,{children:(0,r.jsx)(G,{className:"space-y-2 sm:space-y-3 pb-4",children:g.map(e=>(0,r.jsx)(V,{children:(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 group relative transform-gpu perspective-1000",children:(0,r.jsx)(X,{asChild:!0,className:"h-auto p-0 rounded-xl transition-all duration-500 group relative overflow-hidden ".concat(m(e.url)?"transform hover:scale-105":"hover:scale-[1.02]"),children:(0,r.jsx)(c(),{href:e.url,onClick:f,className:"block w-full",children:(0,r.jsxs)("div",{style:m(e.url)?{transform:"perspective(1000px) rotateX(8deg) rotateY(-2deg)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.25)"}:{boxShadow:"0 12px 25px -6px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.08)"},className:"jsx-f178ca93123a1536 "+"relative p-3 sm:p-4 rounded-xl text-white transform transition-all duration-500 w-full ".concat(m(e.url)?"bg-gradient-to-br ".concat(e.gradient," shadow-2xl"):"bg-slate-800/50 hover:bg-slate-700/60 backdrop-blur-xl border border-slate-600/40 hover:border-slate-500/60"),children:[m(e.url)&&(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 absolute inset-0 rounded-xl bg-gradient-to-r from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-700",children:(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})}),(0,r.jsxs)("div",{className:"jsx-f178ca93123a1536 relative z-10 flex items-center",children:[(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 "+"flex-shrink-0 transition-all duration-300 transform ".concat(u?"mx-auto":"mr-2 sm:mr-3"," ").concat(m(e.url)?"scale-110":"group-hover:scale-105"),children:(0,r.jsxs)("div",{style:m(e.url)?{boxShadow:"0 12px 40px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.3), inset 0 -1px 0 rgba(0,0,0,0.2)",transform:"perspective(1000px) rotateX(20deg) rotateY(-8deg) scale(1.05)"}:{boxShadow:"0 8px 25px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1), inset 0 -1px 0 rgba(0,0,0,0.15)",transform:"perspective(1000px) rotateX(12deg) rotateY(-4deg)"},className:"jsx-f178ca93123a1536 "+"w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center transition-all duration-300 relative overflow-hidden transform-gpu ".concat(m(e.url)?"bg-gradient-to-br from-white/30 to-white/15 backdrop-blur-sm border border-white/40 shadow-2xl":"bg-gradient-to-br from-slate-700/60 to-slate-800/60 group-hover:from-slate-600/70 group-hover:to-slate-700/70 border border-slate-600/60 shadow-xl"),children:[(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 absolute inset-0 bg-gradient-to-br from-transparent via-white/5 to-black/10 rounded-xl"}),(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-white/10 rounded-xl"}),m(e.url)&&(0,r.jsx)("div",{className:"jsx-f178ca93123a1536 "+"absolute inset-0 bg-gradient-to-br ".concat(e.gradient," rounded-xl blur-lg opacity-30 animate-pulse")}),(0,r.jsx)(e.icon,{className:"w-5 h-5 sm:w-6 sm:h-6 relative z-10 transition-all duration-300 ".concat(m(e.url)?"text-white":"text-gray-200 group-hover:text-white"),style:{filter:"drop-shadow(0 3px 6px rgba(0,0,0,0.6)) drop-shadow(0 1px 2px rgba(0,0,0,0.8))",textShadow:"0 2px 4px rgba(0,0,0,0.5)"}})]})}),!u&&(0,r.jsxs)("div",{className:"jsx-f178ca93123a1536 flex-1 min-w-0 text-left",children:[(0,r.jsx)("div",{style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8), 0 0 8px rgba(0,0,0,0.5)",fontWeight:900,letterSpacing:"0.5px"},dir:"auto",className:"jsx-f178ca93123a1536 "+"text-base sm:text-lg font-black truncate mb-1 transition-all duration-300 tracking-wide ".concat(m(e.url)?"text-white drop-shadow-lg":"text-gray-100 group-hover:text-white drop-shadow-md"),children:e.title}),(0,r.jsx)("div",{style:{textShadow:"1px 1px 3px rgba(0,0,0,0.7)",fontWeight:700,letterSpacing:"0.3px"},dir:"auto",className:"jsx-f178ca93123a1536 "+"text-xs sm:text-sm font-bold truncate transition-all duration-300 tracking-wide ".concat(m(e.url)?"text-white/90 drop-shadow-md":"text-gray-300 group-hover:text-gray-200 drop-shadow-sm"),children:e.description})]})]})]})})})})},e.title))})})]})})}),(0,r.jsx)($(),{id:"f178ca93123a1536",children:"@-webkit-keyframes float{0%,100%{-webkit-transform:translatey(0px)rotate(0deg);transform:translatey(0px)rotate(0deg)}33%{-webkit-transform:translatey(-5px)rotate(1deg);transform:translatey(-5px)rotate(1deg)}66%{-webkit-transform:translatey(3px)rotate(-1deg);transform:translatey(3px)rotate(-1deg)}}@-moz-keyframes float{0%,100%{-moz-transform:translatey(0px)rotate(0deg);transform:translatey(0px)rotate(0deg)}33%{-moz-transform:translatey(-5px)rotate(1deg);transform:translatey(-5px)rotate(1deg)}66%{-moz-transform:translatey(3px)rotate(-1deg);transform:translatey(3px)rotate(-1deg)}}@-o-keyframes float{0%,100%{-o-transform:translatey(0px)rotate(0deg);transform:translatey(0px)rotate(0deg)}33%{-o-transform:translatey(-5px)rotate(1deg);transform:translatey(-5px)rotate(1deg)}66%{-o-transform:translatey(3px)rotate(-1deg);transform:translatey(3px)rotate(-1deg)}}@keyframes float{0%,100%{-webkit-transform:translatey(0px)rotate(0deg);-moz-transform:translatey(0px)rotate(0deg);-o-transform:translatey(0px)rotate(0deg);transform:translatey(0px)rotate(0deg)}33%{-webkit-transform:translatey(-5px)rotate(1deg);-moz-transform:translatey(-5px)rotate(1deg);-o-transform:translatey(-5px)rotate(1deg);transform:translatey(-5px)rotate(1deg)}66%{-webkit-transform:translatey(3px)rotate(-1deg);-moz-transform:translatey(3px)rotate(-1deg);-o-transform:translatey(3px)rotate(-1deg);transform:translatey(3px)rotate(-1deg)}}.animate-float.jsx-f178ca93123a1536{-webkit-animation:float 4s ease-in-out infinite;-moz-animation:float 4s ease-in-out infinite;-o-animation:float 4s ease-in-out infinite;animation:float 4s ease-in-out infinite}.overflow-y-auto.jsx-f178ca93123a1536::-webkit-scrollbar{width:6px}.overflow-y-auto.jsx-f178ca93123a1536::-webkit-scrollbar-track{background:rgba(0,0,0,.1);-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.overflow-y-auto.jsx-f178ca93123a1536::-webkit-scrollbar-thumb{background:rgba(255,255,255,.2);-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.overflow-y-auto.jsx-f178ca93123a1536::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.3)}.overflow-y-auto.jsx-f178ca93123a1536{scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2)rgba(0,0,0,.1)}"})]})})}function eu(e){let{unseenCount:a,alertEnabled:t,onAudioBlocked:r}=e,s=(0,o.useRef)(null),n=(0,o.useRef)(0),i=(0,o.useRef)(!1),l=(0,o.useRef)(!1);(0,o.useEffect)(()=>{if(!s.current){let e=new Audio("/alert.mp3");e.preload="auto",e.loop=!0,e.playsInline=!0,e.volume=.7,e.muted=!1,s.current=e,e.addEventListener("loadstart",()=>console.log("[v0] Audio loading started")),e.addEventListener("canplay",()=>console.log("[v0] Audio can play")),e.addEventListener("error",e=>console.log("[v0] Audio error:",e)),e.addEventListener("loadeddata",()=>console.log("[v0] Audio data loaded"))}let e=async()=>{if(s.current&&!l.current)try{s.current.currentTime=0,await s.current.play(),s.current.pause(),s.current.currentTime=0,l.current=!0,console.log("[v0] Audio unlocked after user gesture")}catch(e){console.log("[v0] Failed to unlock audio:",e)}},a=["click","touchstart","keydown"];return a.forEach(a=>{document.addEventListener(a,e,{once:!0,passive:!0})}),()=>{s.current&&(s.current.pause(),s.current.currentTime=0,s.current=null),a.forEach(a=>{document.removeEventListener(a,e)})}},[]);let d=(0,o.useCallback)(async()=>{let e=s.current;if(!e||!t){console.log("[v0] Cannot play audio - audio:",!!e,"alertEnabled:",t);return}try{e.currentTime=0,console.log("[v0] Attempting to play audio - readyState:",e.readyState,"unlocked:",l.current),await e.play(),i.current=!1,console.log("[v0] Notification audio started successfully")}catch(a){if(console.log("[v0] Audio autoplay blocked:",a),!i.current){i.current=!0,null==r||r();let a=async()=>{try{e.currentTime=0,await e.play(),i.current=!1,l.current=!0,console.log("[v0] Audio enabled after user gesture")}catch(e){console.log("[v0] Still unable to play audio:",e)}},t=()=>{a(),document.removeEventListener("click",t)};document.addEventListener("click",t,{passive:!0}),setTimeout(()=>{document.removeEventListener("click",t),i.current=!1},3e4)}}},[t,r]);return(0,o.useEffect)(()=>{let e=s.current;if(!e)return;let r=n.current;console.log("[v0] Notification count changed - prev:",r,"curr:",a,"alertEnabled:",t),t&&0===r&&a>0?(console.log("[v0] Playing notification alert - conditions met"),d()):t&&r<a&&a>0?(console.log("[v0] Playing notification alert - count increased from",r,"to",a),d()):console.log("[v0] Not playing alert - prev:",r,"curr:",a,"alertEnabled:",t),0!==a&&t||(console.log("[v0] Stopping notification alert"),e.pause(),e.currentTime=0),n.current=a},[a,t,d]),null}var em=t(69663),eg=t(88145),ef=t(9449),ep=t(13052),eb=t(5196),ex=t(9428);let eh=ef.bL,ev=ef.l9;ef.YJ,ef.ZL,ef.Pb,ef.z6,o.forwardRef((e,a)=>{let{className:t,inset:o,children:s,...n}=e;return(0,r.jsxs)(ef.ZP,{ref:a,className:(0,f.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",o&&"pl-8",t),...n,children:[s,(0,r.jsx)(ep.A,{className:"ml-auto"})]})}).displayName=ef.ZP.displayName,o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(ef.G5,{ref:a,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})}).displayName=ef.G5.displayName;let ey=o.forwardRef((e,a)=>{let{className:t,sideOffset:o=4,...s}=e;return(0,r.jsx)(ef.ZL,{children:(0,r.jsx)(ef.UC,{ref:a,sideOffset:o,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})})});ey.displayName=ef.UC.displayName;let ew=o.forwardRef((e,a)=>{let{className:t,inset:o,...s}=e;return(0,r.jsx)(ef.q7,{ref:a,className:(0,f.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",o&&"pl-8",t),...s})});ew.displayName=ef.q7.displayName,o.forwardRef((e,a)=>{let{className:t,children:o,checked:s,...n}=e;return(0,r.jsxs)(ef.H_,{ref:a,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(ef.VF,{children:(0,r.jsx)(eb.A,{className:"h-4 w-4"})})}),o]})}).displayName=ef.H_.displayName,o.forwardRef((e,a)=>{let{className:t,children:o,...s}=e;return(0,r.jsxs)(ef.hN,{ref:a,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(ef.VF,{children:(0,r.jsx)(ex.A,{className:"h-2 w-2 fill-current"})})}),o]})}).displayName=ef.hN.displayName;let ej=o.forwardRef((e,a)=>{let{className:t,inset:o,...s}=e;return(0,r.jsx)(ef.JU,{ref:a,className:(0,f.cn)("px-2 py-1.5 text-sm font-semibold",o&&"pl-8",t),...s})});ej.displayName=ef.JU.displayName;let eN=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(ef.wv,{ref:a,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",t),...o})});eN.displayName=ef.wv.displayName;var ek=t(39514),eA=t(23861),eS=t(66474),e_=t(71007),ez=t(381),eE=t(34835),eR=t(15273),eC=t(9771),eL=t(40646);let eT={fr:{headerTitle:e=>"admin"===e?"Administration":"manager"===e?"Management":"Espace Employ\xe9",headerSubtitle:"Tableau de bord Red Castle",roleAdmin:"\uD83D\uDD25 Administrateur",roleManager:"⚡ Manager",roleEmployee:"✨ Employ\xe9",roleUser:"Utilisateur",toggleSidebar:"Basculer la barre lat\xe9rale",notifications:"Notifications",profile:"Profil",settings:"Param\xe8tres",logout:"D\xe9connexion",notifTitle:"\uD83D\uDD14 Notifications",noNotifications:"✨ Aucune notification",scheduleChange:"\uD83D\uDCC5 Changement de planning",leaveResultAccepted:"✅ Votre demande de cong\xe9 a \xe9t\xe9 accept\xe9e",leaveResultRejected:"❌ Votre demande de cong\xe9 a \xe9t\xe9 refus\xe9e",planningUpdated:"\uD83D\uDCC5 Planning mis \xe0 jour",dateUnknown:"Date inconnue",receivedAt:e=>"Re\xe7u le ".concat(e),markAll:"Tout marquer comme lu",enableSound:"Activer le son",soundBlocked:"Le navigateur a bloqu\xe9 l'autoplay. Cliquez pour activer le son."},ar:{headerTitle:e=>"admin"===e?"الإدارة":"manager"===e?"الإشراف":"مساحة الموظف",headerSubtitle:"لوحة تحكم ريد كاسل",roleAdmin:"\uD83D\uDD25 مدير النظام",roleManager:"⚡ مدير",roleEmployee:"✨ موظف",roleUser:"مستخدم",toggleSidebar:"فتح القائمة الجانبية",notifications:"الإشعارات",profile:"الملف الشخصي",settings:"الإعدادات",logout:"تسجيل الخروج",notifTitle:"\uD83D\uDD14 الإشعارات",noNotifications:"✨ لا توجد إشعارات",scheduleChange:"\uD83D\uDCC5 تغيير الجدول",leaveResultAccepted:"✅ تم قبول طلب الإجازة",leaveResultRejected:"❌ تم رفض طلب الإجازة",planningUpdated:"\uD83D\uDCC5 تم تحديث التخطيط",dateUnknown:"تاريخ غير معروف",receivedAt:e=>"تم الاستلام في ".concat(e),markAll:"تحديد الكل كمقروء",enableSound:"تفعيل الصوت",soundBlocked:"حجب المتصفح التشغيل التلقائي. انقر لتفعيل الصوت."}};function eP(e){return"ar"===e?"ar-TN":"fr-TN"}let eM=(0,o.createContext)(null);function eq(e){let{children:a}=e,{user:t}=(0,er.A)(),[s,l]=(0,o.useState)([]),[d,c]=(0,o.useState)(0),[u,m]=(0,o.useState)(!1),[g,f]=(0,o.useState)(()=>{let e=window.localStorage.getItem("alert");return!e||"on"===e}),p=(0,o.useCallback)(e=>{f(e);try{window.localStorage.setItem("alert",e?"on":"off");let a=new BroadcastChannel("rc-notifications");a.postMessage({type:"alert-toggle",payload:{enabled:e}}),a.close()}catch(e){}},[]),[b]=(0,n._)(ek.mu,{fetchPolicy:"cache-first",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!1,errorPolicy:"all"}),[x]=(0,i.n)(ek.a4,{update:(e,a)=>{let{data:t}=a;(null==t?void 0:t.markNotificationSeen)&&e.modify({fields:{notifications(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>e.id===t.markNotificationSeen.id?{...e,seen:!0}:e)}}})}}),[h]=(0,i.n)(ek.JH,{update:e=>{e.modify({fields:{notifications(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>({...e,seen:!0}))}}})}});(0,o.useEffect)(()=>{c((s||[]).filter(e=>!e.seen).length)},[s]);let v=(0,o.useRef)(!1);(0,o.useEffect)(()=>{(null==t?void 0:t.id)&&!v.current&&(v.current=!0,(async()=>{try{var e;console.log("[v0] Fetching notifications for user:",t.id);let{data:a}=await b({variables:{user_id:t.id,role:t.role,only_unseen:!1}}),r=null!==(e=null==a?void 0:a.notifications)&&void 0!==e?e:[];console.log("[v0] Loaded notifications:",r.length),l(r)}catch(e){console.log("[v0] Error fetching notifications:",e)}})())},[null==t?void 0:t.id,null==t?void 0:t.role,b]),(0,o.useEffect)(()=>{let e=new BroadcastChannel("rc-notifications"),a=e=>{var a,t;let r=e.data;if(r&&"object"==typeof r){if("mark-seen"===r.type&&(null===(a=r.payload)||void 0===a?void 0:a.id)){let e=String(r.payload.id);l(a=>a.map(a=>a.id===e?{...a,seen:!0}:a))}else"mark-all-seen"===r.type?l(e=>e.map(e=>({...e,seen:!0}))):"alert-toggle"===r.type&&f(!!(null===(t=r.payload)||void 0===t?void 0:t.enabled))}};return e.addEventListener("message",a),()=>{e.removeEventListener("message",a),e.close()}},[]);let y=e=>{try{let a=new BroadcastChannel("rc-notifications");a.postMessage(e),a.close()}catch(e){}},w=(0,o.useCallback)(async e=>{try{await x({variables:{id:e}}),l(a=>a.map(a=>a.id===e?{...a,seen:!0}:a)),y({type:"mark-seen",payload:{id:e}})}catch(e){}},[x]),j=(0,o.useCallback)(async()=>{if(null==t?void 0:t.id)try{await h({variables:{user_id:t.id}}),l(e=>e.map(e=>({...e,seen:!0}))),y({type:"mark-all-seen"})}catch(e){}},[h,null==t?void 0:t.id]);return(0,r.jsxs)(eM.Provider,{value:{unseenCount:d,notifications:s,markAsSeen:w,markAllAsSeen:j,alertEnabled:g,setAlertEnabled:p,audioBlocked:u},children:[(0,r.jsx)(eu,{unseenCount:d,alertEnabled:g,onAudioBlocked:()=>m(!0)}),a]})}function eD(){var e,a;let{user:t,logout:n}=(0,er.A)(),i=(0,s.useRouter)(),{isMobile:d}=T(),{lang:u,dict:m}=function(){let[e,a]=(0,o.useState)("fr");(0,o.useEffect)(()=>{let e=window.localStorage.getItem("lang");"fr"===e||"ar"===e?a(e):(window.localStorage.setItem("lang","fr"),a("fr"))},[]),(0,o.useEffect)(()=>{"undefined"!=typeof document&&(document.documentElement.setAttribute("lang",e),document.documentElement.setAttribute("dir","ltr"))},[e]);let t=eT[e];return{lang:e,dict:t}}(),{unseenCount:g,notifications:f,markAsSeen:b,markAllAsSeen:x,alertEnabled:h,setAlertEnabled:y,audioBlocked:w}=function(){let e=(0,o.useContext)(eM);if(!e)throw Error("useNotifications must be used within NotificationsProvider");return e}(),[j,N]=(0,o.useState)(!1),[k,A]=(0,o.useState)(!1),{data:S}=(0,l.I)(ek.kz,{variables:{status:"pending"},skip:(null==t?void 0:t.role)!=="admin",fetchPolicy:"cache-first",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!1,pollInterval:3e5}),_=(null==S?void 0:S.adminApprovals)||[];(0,o.useEffect)(()=>N(!0),[]);let z=e=>{switch(e){case"admin":return"bg-gradient-to-r from-red-500/20 to-orange-500/20 text-red-300 border border-red-400/30 backdrop-blur-sm";case"manager":return"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-300 border border-blue-400/30 backdrop-blur-sm";case"employee":return"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-300 border border-green-400/30 backdrop-blur-sm";default:return"bg-gradient-to-r from-gray-500/20 to-slate-500/20 text-gray-300 border border-gray-400/30 backdrop-blur-sm"}},E=e=>{switch(e){case"admin":return m.roleAdmin;case"manager":return m.roleManager;case"employee":return m.roleEmployee;default:return m.roleUser}},R=async()=>{A(e=>!e)},C=()=>A(!1),L=async e=>{"schedule_change"===e.type?(null==t?void 0:t.role)==="employee"?i.push("/dashboard/journal"):(null==t?void 0:t.role)==="admin"?i.push("/dashboard/admin/approvals"):(null==t?void 0:t.role)==="manager"&&i.push("/dashboard/manager/leave-requests"):"leave_request"===e.type&&((null==t?void 0:t.role)==="employee"?i.push("/dashboard/leave-request"):(null==t?void 0:t.role)==="manager"?i.push("/dashboard/manager/leave-requests"):i.push("/dashboard/admin/approvals")),await b(e.id)},P=async()=>{await x()},M=g>0,D=(0,o.useMemo)(()=>Array.from({length:8},(e,a)=>({id:a,left:"".concat(25+12.5*a,"%"),top:"".concat(20+a%3*25,"%"),delay:"".concat(.3*a,"s"),duration:"".concat(2+a%3,"s")})),[]);return j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("header",{className:"sticky top-0 z-50 w-full bg-gradient-to-r from-slate-900/95 via-purple-900/95 to-slate-900/95 backdrop-blur-xl border-b border-white/10 shadow-2xl",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_30%,rgba(120,119,198,0.1),transparent_50%)]"}),D.map(e=>(0,r.jsx)("div",{className:"absolute w-0.5 h-0.5 bg-white/30 rounded-full animate-pulse",style:{left:e.left,top:e.top,animationDelay:e.delay,animationDuration:e.duration}},e.id))]}),(0,r.jsxs)("div",{className:"relative z-10 flex h-16 items-center justify-between px-4 lg:px-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(q,{className:"md:hidden bg-slate-800/50 hover:bg-slate-700/60 backdrop-blur-xl border border-slate-600/40 text-white hover:text-white transition-all duration-300 rounded-xl","aria-label":m.toggleSidebar,title:m.toggleSidebar}),(0,r.jsx)(q,{className:"hidden md:inline-flex bg-slate-800/50 hover:bg-slate-700/60 backdrop-blur-xl border border-slate-600/40 text-white hover:text-white transition-all duration-300 rounded-xl"}),(0,r.jsx)("div",{className:"group relative flex-1",children:(0,r.jsxs)("div",{className:"bg-gradient-to-r from-slate-800/60 via-purple-800/60 to-slate-800/60 backdrop-blur-xl border border-white/10 px-4 py-2 rounded-xl shadow-2xl max-w-full lg:max-w-md xl:max-w-lg 2xl:max-w-xl",children:[(0,r.jsx)("h1",{className:"text-lg font-bold bg-gradient-to-r from-white via-cyan-100 to-white bg-clip-text text-transparent leading-tight",dir:"auto",children:m.headerTitle((null==t?void 0:t.role)||"")}),(0,r.jsx)("p",{className:"text-xs text-slate-300 hidden sm:block",dir:"auto",children:m.headerSubtitle})]})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"relative group",children:(0,r.jsxs)(p.$,{variant:"ghost",size:"icon",className:"bg-slate-800/50 hover:bg-slate-700/60 backdrop-blur-xl border border-slate-600/40 text-white hover:text-white transition-all duration-300 rounded-xl relative ".concat(M?"ring-2 ring-cyan-400/50 shadow-[0_0_25px_rgba(34,211,238,0.45)]":""),onClick:R,children:[(0,r.jsx)(eA.A,{className:"h-4 w-4 ".concat(M?"text-cyan-300":"")}),g>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 h-5 min-w-5 px-1 bg-gradient-to-r from-cyan-500 to-indigo-500 rounded-full text-[10px] text-white flex items-center justify-center animate-pulse font-bold shadow-lg",children:g}),(0,r.jsx)("span",{className:"sr-only",dir:"auto",children:m.notifications})]})}),(0,r.jsxs)(eh,{children:[(0,r.jsx)(ev,{asChild:!0,children:(0,r.jsxs)(p.$,{className:"bg-gradient-to-r from-slate-800/60 via-purple-800/60 to-slate-800/60 hover:from-slate-700/70 hover:via-purple-700/70 hover:to-slate-700/70 backdrop-blur-xl border border-white/10 hover:border-white/20 transition-all duration-300 rounded-xl flex items-center gap-3 px-4 py-2 h-auto",children:[(0,r.jsx)(em.eu,{className:"h-8 w-8 border-2 border-white/30 shadow-lg",children:(0,r.jsx)(em.q5,{className:"bg-gradient-to-br from-red-500 to-orange-500 text-white text-sm font-bold shadow-inner",children:(null==t?void 0:null===(e=t.username)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"})}),(0,r.jsxs)("div",{className:"hidden sm:flex flex-col items-start",children:[(0,r.jsx)("span",{className:"text-sm font-bold text-white drop-shadow-sm",dir:"auto",children:null==t?void 0:t.username}),(0,r.jsx)(eg.E,{className:"text-xs font-semibold ".concat(z((null==t?void 0:t.role)||"")," shadow-sm"),dir:"auto",children:E((null==t?void 0:t.role)||"")})]}),(0,r.jsx)(eS.A,{className:"h-4 w-4 text-slate-300 transition-transform group-hover:rotate-180 duration-300"})]})}),(0,r.jsx)(ey,{align:"end",className:"w-64 bg-gradient-to-br from-slate-900/95 via-purple-900/95 to-slate-900/95 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl overflow-hidden p-0",children:(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsx)(ej,{className:"font-normal p-4 bg-gradient-to-r from-slate-800/50 to-purple-800/50 border-b border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(em.eu,{className:"h-10 w-10 border-2 border-white/30 shadow-lg",children:(0,r.jsx)(em.q5,{className:"bg-gradient-to-br from-red-500 to-orange-500 text-white font-bold shadow-inner",children:(null==t?void 0:null===(a=t.username)||void 0===a?void 0:a.charAt(0).toUpperCase())||"U"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-bold text-white drop-shadow-sm",dir:"auto",children:null==t?void 0:t.username}),(0,r.jsx)(eg.E,{className:"text-xs font-semibold ".concat(z((null==t?void 0:t.role)||"")," shadow-sm"),dir:"auto",children:E((null==t?void 0:t.role)||"")})]})]})}),(0,r.jsx)(eN,{className:"bg-gradient-to-r from-transparent via-white/10 to-transparent h-px my-2"}),(0,r.jsxs)("div",{className:"p-2",children:[(0,r.jsx)(c(),{href:"/dashboard/profile",children:(0,r.jsxs)(ew,{className:"bg-slate-800/40 hover:bg-slate-700/50 border border-slate-600/30 hover:border-slate-500/50 rounded-xl mb-2 p-3 text-white hover:text-cyan-200 transition-all duration-300 cursor-pointer group w-full",children:[(0,r.jsx)(e_.A,{className:"mr-3 h-4 w-4"}),(0,r.jsx)("span",{className:"font-semibold",dir:"auto",children:m.profile})]})}),(0,r.jsx)(c(),{href:"/dashboard/settings",children:(0,r.jsxs)(ew,{className:"bg-slate-800/40 hover:bg-slate-700/50 border border-slate-600/30 hover:border-slate-500/50 rounded-xl mb-2 p-3 text-white hover:text-cyan-200 transition-all duration-300 cursor-pointer group w-full",children:[(0,r.jsx)(ez.A,{className:"mr-3 h-4 w-4"}),(0,r.jsx)("span",{className:"font-semibold",dir:"auto",children:m.settings})]})}),(0,r.jsx)(eN,{className:"bg-gradient-to-r from-transparent via-white/10 to-transparent h-px my-2"}),(0,r.jsxs)(ew,{onClick:()=>{n(),i.push("/login")},className:"bg-red-900/40 hover:bg-red-800/50 border border-red-600/40 hover:border-red-500/60 rounded-xl p-3 text-red-300 hover:text-red-200 transition-all duration-300 cursor-pointer group",children:[(0,r.jsx)(eE.A,{className:"mr-3 h-4 w-4"}),(0,r.jsx)("span",{className:"font-semibold",dir:"auto",children:m.logout})]})]})]})})]})]})]})]}),k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] md:hidden",onClick:C}),(0,r.jsx)("div",{className:"fixed z-[70] transform-gpu ".concat(d?"inset-x-4 top-20 bottom-20":"right-4 top-20 w-96 max-w-[calc(100vw-2rem)]"),children:(0,r.jsxs)("div",{className:"relative bg-gradient-to-br from-slate-900/98 via-purple-900/98 to-slate-900/98 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl overflow-hidden h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"relative z-10 p-4 border-b border-white/10 flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-base md:text-lg font-bold bg-gradient-to-r from-white via-cyan-100 to-white bg-clip-text text-transparent",dir:"auto",children:m.notifTitle}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[f.length>0&&(0,r.jsx)(p.$,{variant:"ghost",size:"sm",onClick:P,className:"text-cyan-200 hover:text-cyan-100 hover:bg-cyan-900/30",children:m.markAll}),(0,r.jsxs)(p.$,{variant:"ghost",size:"sm",onClick:()=>y(!h),className:"hover:text-cyan-100 flex items-center gap-1 ".concat(h?"text-cyan-200":"text-slate-400"," ").concat(w?"text-orange-400":""),title:w?m.soundBlocked:m.enableSound,children:[h?(0,r.jsx)(eR.A,{className:"h-3 w-3"}):(0,r.jsx)(eC.A,{className:"h-3 w-3"}),w&&(0,r.jsx)("span",{className:"text-xs",children:"!"})]}),(0,r.jsx)(p.$,{variant:"ghost",size:"icon",onClick:C,className:"bg-slate-800/50 hover:bg-slate-700/60 border border-slate-600/40 text-white rounded-xl h-8 w-8",children:(0,r.jsx)(v.A,{className:"h-4 w-4"})})]})]}),(0,r.jsx)("div",{className:"relative z-10 flex-1 overflow-hidden",children:0===f.length?(0,r.jsx)("div",{className:"p-4 h-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-sm text-slate-400 py-8 text-center bg-slate-800/30 rounded-xl backdrop-blur-sm border border-slate-600/30 w-full",dir:"auto",children:m.noNotifications})}):(0,r.jsxs)("div",{className:"p-4 h-full overflow-y-auto",children:[(0,r.jsx)("ul",{className:"space-y-3",children:f.map(e=>{let a=e.seen,t=(()=>{let a=new Date(e.created_at);return isNaN(a.getTime())?null:function(e,a){try{return new Intl.DateTimeFormat(eP(a),{timeZone:"Africa/Tunis",dateStyle:"short",timeStyle:"short"}).format(e)}catch(t){return e.toLocaleString(eP(a))}}(a,u)})(),o="schedule_change"===e.type?(0,r.jsx)(Z.A,{className:"h-4 w-4"}):(0,r.jsx)(eL.A,{className:"h-4 w-4"});return(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left p-3 border rounded-xl transition-all duration-300 group transform ".concat(a?"bg-slate-800/20 hover:bg-slate-700/30 border-slate-700/40 hover:border-slate-600/50":"bg-gradient-to-r from-cyan-900/30 to-indigo-900/30 hover:from-cyan-900/40 hover:to-indigo-900/40 border-cyan-600/40 hover:border-cyan-500/50 shadow-[0_0_15px_rgba(34,211,238,0.25)]"),onClick:()=>L(e),children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[!a&&(0,r.jsx)("div",{className:"w-2 h-2 bg-cyan-400 rounded-full mt-2 flex-shrink-0 animate-ping"}),(0,r.jsx)("div",{className:"flex-shrink-0 mt-0.5 text-cyan-200",children:o}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("span",{className:"font-semibold block ".concat(a?"text-slate-300":"text-white"),dir:"auto",children:e.title}),e.message&&(0,r.jsx)("span",{className:"block text-xs mt-0.5 ".concat(a?"text-slate-400":"text-cyan-100/90"),dir:"auto",children:e.message}),(0,r.jsx)("span",{className:"block text-[11px] text-slate-400 mt-1",dir:"auto",children:t?m.receivedAt(t):m.dateUnknown})]})]})})},e.id)})}),(null==t?void 0:t.role)==="admin"&&_.length>0&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)(p.$,{onClick:()=>{i.push("/dashboard/admin/approvals"),C()},className:"w-full bg-indigo-700 hover:bg-indigo-800",children:["Aller aux Approbations (",_.length,")"]})})]})})]})})]})]}):(0,r.jsx)("header",{className:"sticky top-0 z-50 w-full bg-gradient-to-r from-slate-900/95 via-purple-900/95 to-slate-900/95 backdrop-blur-xl border-b border-white/10",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 lg:px-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"h-8 w-8 bg-gradient-to-r from-slate-700 to-slate-600 rounded-xl animate-pulse"}),(0,r.jsx)("div",{className:"h-6 w-32 bg-gradient-to-r from-slate-700 to-slate-600 rounded-xl animate-pulse"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"h-8 w-8 bg-gradient-to-r from-slate-700 to-slate-600 rounded-full animate-pulse"}),(0,r.jsx)("div",{className:"h-8 w-20 bg-gradient-to-r from-slate-700 to-slate-600 rounded-xl animate-pulse"})]})]})})}function eU(e){let{children:a}=e,[t,s]=(0,o.useState)(!1);return((0,o.useEffect)(()=>s(!0),[]),t)?(0,r.jsx)(P,{children:(0,r.jsxs)("div",{className:"flex min-h-screen w-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(120,119,198,0.08),transparent_50%)]"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_80%_20%,rgba(120,219,255,0.08),transparent_50%)]"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_80%,rgba(255,119,198,0.08),transparent_50%)]"})]}),(0,r.jsx)(ec,{onNavigate:()=>{}}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 relative z-10",children:[(0,r.jsx)(eD,{}),(0,r.jsx)("main",{className:"flex-1 p-4 lg:p-6 overflow-auto",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,r.jsx)("div",{className:"animate-in fade-in duration-500",children:a})})})]})]})}):(0,r.jsx)("div",{className:"flex min-h-screen w-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900"})}function eI(e){let{children:a}=e,{user:t,isLoading:n}=(0,er.A)(),i=(0,s.useRouter)(),[l,d]=(0,o.useState)(!1);return((0,o.useEffect)(()=>d(!0),[]),(0,o.useEffect)(()=>{n||t||!l||i.push("/login")},[t,n,i,l]),!l||n)?(0,r.jsx)("div",{className:"flex min-h-screen w-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden"}):t?(0,r.jsx)(eq,{children:(0,r.jsx)(eU,{children:a})}):null}},69663:(e,a,t)=>{"use strict";t.d(a,{eu:()=>i,q5:()=>l});var r=t(95155),o=t(12115),s=t(54011),n=t(53999);let i=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(s.bL,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...o})});i.displayName=s.bL.displayName,o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(s._V,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",t),...o})}).displayName=s._V.displayName;let l=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(s.H4,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...o})});l.displayName=s.H4.displayName},76037:(e,a,t)=>{"use strict";t.d(a,{w:()=>i});var r=t(95155),o=t(12115),s=t(87489),n=t(53999);let i=o.forwardRef((e,a)=>{let{className:t,orientation:o="horizontal",decorative:i=!0,...l}=e;return(0,r.jsx)(s.b,{ref:a,decorative:i,orientation:o,className:(0,n.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",t),...l})});i.displayName=s.b.displayName},76052:(e,a,t)=>{"use strict";t.d(a,{A:()=>i,AuthProvider:()=>n});var r=t(95155),o=t(12115);let s=(0,o.createContext)(void 0);function n(e){let{children:a}=e,[t,n]=(0,o.useState)(null),[i,l]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let e=localStorage.getItem("restaurant_user");if(e)try{n(JSON.parse(e))}catch(e){console.error("Error parsing stored user data:",e),localStorage.removeItem("restaurant_user")}l(!1)},[]),(0,r.jsx)(s.Provider,{value:{user:t,login:e=>{let a={...e,location_id:void 0!==e.location_id&&null!==e.location_id?e.location_id:void 0};n(a),localStorage.setItem("restaurant_user",JSON.stringify(a))},logout:()=>{n(null),localStorage.removeItem("restaurant_user")},isLoading:i},children:a})}function i(){let e=(0,o.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},88145:(e,a,t)=>{"use strict";t.d(a,{E:()=>i});var r=t(95155);t(12115);var o=t(74466),s=t(53999);let n=(0,o.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:t,...o}=e;return(0,r.jsx)("div",{className:(0,s.cn)(n({variant:t}),a),...o})}},89852:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var r=t(95155),o=t(12115),s=t(53999);let n=o.forwardRef((e,a)=>{let{className:t,type:o,...n}=e;return(0,r.jsx)("input",{type:o,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n})});n.displayName="Input"},97168:(e,a,t)=>{"use strict";t.d(a,{$:()=>d,r:()=>l});var r=t(95155),o=t(12115),s=t(99708),n=t(74466),i=t(53999);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef((e,a)=>{let{className:t,variant:o,size:n,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(l({variant:o,size:n,className:t})),ref:a,...c})});d.displayName="Button"}},e=>{var a=a=>e(e.s=a);e.O(0,[7477,8916,5180,913,7589,8028,1071,9754,7579,6361,5516,8441,1684,7358],()=>a(25134)),_N_E=e.O()}]);