(()=>{var e={};e.id=4602,e.ids=[4602],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6297:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/monta/rabota/work3/redcastel/app/dashboard/manager/pointeuse/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/monta/rabota/work3/redcastel/app/dashboard/manager/pointeuse/page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23385:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},24354:(e,t,s)=>{"use strict";s.d(t,{BG:()=>d,Vt:()=>r,uU:()=>c});var a=s(43210);let r="Africa/Tunis",i={fr:{active:"Actif",inactive:"Inactif",unknown_date:"Date inconnue",invalid_date:"Date invalide",loading:"Chargement...",cancel:"Annuler",save:"Sauver",edit:"Modifier",urgent:"Urgent",space:"Espace",role_admin:"Admin",role_manager:"Manager",role_employee:"Employ\xe9",nav:"Navigation",header_title_admin:"Administration",header_title_manager:"Management",header_title_employee:"Espace Employ\xe9",header_subtitle:"Tableau de bord Red Castle",notifications:"Notifications",profile:"Profil",settings:"Param\xe8tres",logout:"D\xe9connexion",notif_title:"\uD83D\uDD14 Approbations en attente",no_notifications:"✨ Aucune notification",schedule_change:"\uD83D\uDCC5 Changement de planning",date_unknown:"Date inconnue",received_at_prefix:"Re\xe7u le",admin_title:"Administration Red Castle",admin_subtitle:"Tableau de bord administrateur - Vue d'ensemble",system_active:"Syst\xe8me actif",last_update_now:"Derni\xe8re mise \xe0 jour: maintenant",stat_total_employees:"Total Employ\xe9s",stat_all_restaurants:"Tous restaurants",stat_active_locations:"Restaurants Actifs",stat_locations_open:"Locations ouvertes",stat_revenue:"Chiffre d'Affaires",stat_this_month:"Ce mois",stat_approvals:"Approbations",stat_pending:"En attente",chart_global_perf:"Performance Globale",chart_global_perf_desc:"\xc9volution du chiffre d'affaires et des effectifs",chart_perf_by_location:"Performance par Restaurant",chart_perf_by_location_desc:"Chiffre d'affaires mensuel par location",restaurants_manage:"Gestion des Restaurants",restaurants_overview:"Vue d'ensemble de tous les restaurants Red Castle",employees:"Employ\xe9s",monthly_revenue:"CA Mensuel",performance:"Performance",recent_activities:"Activit\xe9s R\xe9centes",recent_activities_desc:"Derni\xe8res actions n\xe9cessitant votre attention",loading_activities:"Chargement des activit\xe9s...",error_loading_activities:"Erreur lors du chargement des activit\xe9s",no_recent_activity:"Aucune activit\xe9 r\xe9cente",m_jan:"Jan",m_feb:"F\xe9v",m_mar:"Mar",m_apr:"Avr",m_may:"Mai",m_jun:"Jun",personal_info:"Informations Personnelles",full_name:"Nom Complet",job_title:"Poste",status:"Statut",hire_date:"Date d'embauche",financial_info:"Informations Financi\xe8res",salary:"Salaire",bonus:"Prime",advance:"Avance",net_salary_est:"Salaire Net Estim\xe9",performance_title:"Performance",overall_performance:"Performance globale",excellent:"Excellent",good:"Bon",needs_improvement:"\xc0 am\xe9liorer",worked_hours:"Heures travaill\xe9es",sessions:"Sessions",disciplinary_data:"Donn\xe9es Disciplinaires",infractions:"Infractions",absences:"Absences",delays:"Retards",uniforms:"Tenues de travail",recent_activity:"Activit\xe9 R\xe9cente",recent_sessions:"Derni\xe8res sessions de travail",in_progress:"En cours",done:"Termin\xe9",contracts:"Contrats",contract_prefix:"Contrat",from:"Du",to:"au",uniforms_count:"tenues",active_session:"Session active",sessions_done:"Sessions termin\xe9es",punch_title:"Pointeuse",punch_subtitle:"G\xe9rez vos heures de travail",current_status:"Statut Actuel",on_duty:"En service",off_duty:"Hors service",check_in:"Pointage d’arriv\xe9e",check_out:"Pointage de d\xe9part",arrived_at:"Arriv\xe9e",working_time:"Temps de travail",position:"Position",punch_in_btn:"Pointer l'arriv\xe9e",punch_out_btn:"Pointer le d\xe9part",today_summary:"R\xe9sum\xe9 du jour",today_history:"Historique du jour",unknown_status:"Statut inconnu",geo_warning:"La g\xe9olocalisation n'est pas disponible. Certaines fonctionnalit\xe9s peuvent \xeatre limit\xe9es.",toast_checkin_success:"Vous avez point\xe9 votre arriv\xe9e avec succ\xe8s",toast_checkout_success:"Vous avez point\xe9 votre d\xe9part avec succ\xe8s",toast_error:"Erreur",toast_checkin_error:"Erreur lors du pointage d'arriv\xe9e",toast_checkout_error:"Erreur lors du pointage de d\xe9part",toast_update_success:"Employ\xe9 mis \xe0 jour avec succ\xe8s",toast_update_error:"Erreur lors de la mise \xe0 jour"},ar:{active:"نشط",inactive:"غير نشط",unknown_date:"تاريخ غير معروف",invalid_date:"تاريخ غير صالح",loading:"جاري التحميل...",cancel:"إلغاء",save:"حفظ",edit:"تعديل",urgent:"عاجل",space:"مساحة",role_admin:"مدير",role_manager:"مشرف",role_employee:"موظف",nav:"التنقل",header_title_admin:"الإدارة",header_title_manager:"الإشراف",header_title_employee:"مساحة الموظف",header_subtitle:"لوحة تحكم ريد كاسل",notifications:"الإشعارات",profile:"الملف الشخصي",settings:"الإعدادات",logout:"تسجيل الخروج",notif_title:"\uD83D\uDD14 موافقات قيد الانتظار",no_notifications:"✨ لا توجد إشعارات",schedule_change:"\uD83D\uDCC5 تغيير الجدول",date_unknown:"تاريخ غير معروف",received_at_prefix:"تم الاستلام في",admin_title:"إدارة ريد كاسل",admin_subtitle:"لوحة تحكم المدير - نظرة عامة",system_active:"النظام نشط",last_update_now:"آخر تحديث: الآن",stat_total_employees:"إجمالي الموظفين",stat_all_restaurants:"جميع المطاعم",stat_active_locations:"المطاعم النشطة",stat_locations_open:"الفروع المفتوحة",stat_revenue:"رقم المعاملات",stat_this_month:"هذا الشهر",stat_approvals:"الموافقات",stat_pending:"قيد الانتظار",chart_global_perf:"الأداء العام",chart_global_perf_desc:"تطور رقم المعاملات وعدد الموظفين",chart_perf_by_location:"الأداء حسب المطعم",chart_perf_by_location_desc:"رقم المعاملات الشهري لكل موقع",restaurants_manage:"إدارة المطاعم",restaurants_overview:"نظرة عامة على جميع مطاعم ريد كاسل",employees:"الموظفون",monthly_revenue:"المعاملات الشهرية",performance:"الأداء",recent_activities:"الأنشطة الأخيرة",recent_activities_desc:"أحدث الإجراءات التي تتطلب اهتمامك",loading_activities:"جاري تحميل الأنشطة...",error_loading_activities:"حدث خطأ أثناء تحميل الأنشطة",no_recent_activity:"لا توجد أنشطة حديثة",m_jan:"جان",m_feb:"فيف",m_mar:"مار",m_apr:"أف",m_may:"ماي",m_jun:"جون",personal_info:"المعلومات الشخصية",full_name:"الاسم الكامل",job_title:"المنصب",status:"الحالة",hire_date:"تاريخ التوظيف",financial_info:"المعلومات المالية",salary:"الراتب",bonus:"منحة",advance:"سلفة",net_salary_est:"صافي الراتب التقديري",performance_title:"الأداء",overall_performance:"الأداء العام",excellent:"ممتاز",good:"جيد",needs_improvement:"بحاجة لتحسين",worked_hours:"ساعات العمل",sessions:"الجلسات",disciplinary_data:"البيانات التأديبية",infractions:"مخالفات",absences:"غيابات",delays:"تأخيرات",uniforms:"أزياء العمل",recent_activity:"النشاط الأخير",recent_sessions:"آخر جلسات العمل",in_progress:"قيد العمل",done:"منتهي",contracts:"العقود",contract_prefix:"عقد",from:"من",to:"إلى",uniforms_count:"أزياء",active_session:"جلسة نشطة",sessions_done:"الجلسات المكتملة",punch_title:"آلة تسجيل الوقت",punch_subtitle:"إدارة ساعات عملك",current_status:"الحالة الحالية",on_duty:"على رأس العمل",off_duty:"خارج العمل",check_in:"تسجيل الوصول",check_out:"تسجيل الانصراف",arrived_at:"وقت الوصول",working_time:"وقت العمل",position:"الموقع",punch_in_btn:"تسجيل الوصول",punch_out_btn:"تسجيل الانصراف",today_summary:"ملخص اليوم",today_history:"سجل اليوم",unknown_status:"حالة غير معروفة",geo_warning:"خدمة تحديد الموقع غير متاحة. قد تكون بعض الميزات محدودة.",toast_checkin_success:"تم تسجيل وصولك بنجاح",toast_checkout_success:"تم تسجيل انصرافك بنجاح",toast_error:"خطأ",toast_checkin_error:"حدث خطأ أثناء تسجيل الوصول",toast_checkout_error:"حدث خطأ أثناء تسجيل الانصراف",toast_update_success:"تم تحديث الموظف بنجاح",toast_update_error:"حدث خطأ أثناء التحديث"}};function n(e){return"ar"===e?"ar-TN":"fr-TN"}function o(e){return e instanceof Date?e:new Date(e)}function l(e,t){return{...e??{},timeZone:e?.timeZone??t??r}}function d(e=new Date,t=r){let s=o(e);return new Intl.DateTimeFormat("en-CA",l({year:"numeric",month:"2-digit",day:"2-digit"},t)).format(s)}function c(e="fr"){let[t,s]=(0,a.useState)(e),d=(0,a.useCallback)(e=>{let t="ar"===e?"ar":"fr";s(t),function(e){if("undefined"==typeof document)return;let t=document.documentElement;t.lang=e,t.dir="ltr"}(t)},[]),m=(0,a.useCallback)((e,s)=>{let a=i[t];return a&&a[e]||s||e},[t]),u=n(t),p=(0,a.useCallback)((e,s)=>(function(e,t,s,a){let r=o(e);return isNaN(r.getTime())?"":new Intl.DateTimeFormat(n(t),l(s,a)).format(r)})(e,t,s,r),[t,r]),h=(0,a.useCallback)((e,s)=>(function(e,t,s,a){let r=o(e);return isNaN(r.getTime())?"":new Intl.DateTimeFormat(n(t),l({hour:"2-digit",minute:"2-digit",second:"2-digit",...s??{}},a)).format(r)})(e,t,s,r),[t,r]),x=(0,a.useCallback)((e,s)=>new Intl.NumberFormat(n(t),s).format(Number.isFinite(e)?e:0),[t]),f=(0,a.useCallback)((e,s="TND",a=0)=>(function(e,t,s="TND",a=0){return new Intl.NumberFormat(n(t),{style:"currency",currency:s,currencyDisplay:"narrowSymbol",maximumFractionDigits:a}).format(Number.isFinite(e)?e:0)})(e,t,s,a),[t]);return{lang:t,t:m,locale:u,timeZone:r,setLang:d,formatDate:p,formatTime:h,formatNumber:x,formatCurrency:f}}},25541:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},48539:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=s(65239),r=s(48088),i=s(88170),n=s.n(i),o=s(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d={children:["",{children:["dashboard",{children:["manager",{children:["pointeuse",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6297)),"/home/monta/rabota/work3/redcastel/app/dashboard/manager/pointeuse/page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,94474)),"/home/monta/rabota/work3/redcastel/app/dashboard/manager/pointeuse/loading.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,83249)),"/home/monta/rabota/work3/redcastel/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/home/monta/rabota/work3/redcastel/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/monta/rabota/work3/redcastel/app/dashboard/manager/pointeuse/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboard/manager/pointeuse/page",pathname:"/dashboard/manager/pointeuse",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},52050:(e,t,s)=>{Promise.resolve().then(s.bind(s,6297))},55192:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>o});var a=s(60687),r=s(43210),i=s(96241);let n=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let o=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63974:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>f,gC:()=>x,l6:()=>c,yv:()=>m});var a=s(60687),r=s(43210),i=s(72951),n=s(78272),o=s(3589),l=s(13964),d=s(96241);let c=i.bL;i.YJ;let m=i.WT,u=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.l9,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.l9.displayName;let p=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.PP,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(o.A,{className:"h-4 w-4"})}));p.displayName=i.PP.displayName;let h=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.wn,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})}));h.displayName=i.wn.displayName;let x=r.forwardRef(({className:e,children:t,position:s="popper",...r},n)=>(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:n,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[(0,a.jsx)(p,{}),(0,a.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,a.jsx)(h,{})]})}));x.displayName=i.UC.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.JU,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.JU.displayName;let f=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.q7,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:t})]}));f.displayName=i.q7.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.wv.displayName},78335:()=>{},79447:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var a=s(60687),r=s(43210),i=s(1797),n=s(15728),o=s(48730),l=s(41312),d=s(25541),c=s(40228),m=s(99270),u=s(98492),p=s(97840),h=s(23385),x=s(55192),f=s(24934),b=s(59821),g=s(68988),_=s(63974),v=s(50848),y=s(24354),w=s(52581),j=s(96241);let N={fr:{headerTitle:"Pointeuse \xc9quipe",headerSubtitle:"G\xe9rez les temps de travail de votre \xe9quipe",statTeam:"\xc9quipe Totale",statTeamDesc:"Employ\xe9s",statOnDuty:"En Service",statOnDutyDesc:"Actuellement",statPlanned:"Planifi\xe9s",statPlannedDesc:"Aujourd'hui",statHours:"Heures Total",statHoursDesc:"Estim\xe9es",searchPlaceholder:"Rechercher un employ\xe9...",filterAll:"Tous",filterActive:"Actifs",filterInactive:"Inactifs",sectionTitle:"Gestion Temps \xc9quipe",sectionSubtitle:e=>`G\xe9rez les heures de travail pour le ${e}`,onDuty:"En Service",offDuty:"Hors Service",start:"Commencer",stop:"Terminer",history:"Historique",role:"Poste",shift:"Service",uniforms:"Tenues",startTime:"D\xe9but",endTime:"Fin",emptyTitle:"Aucun employ\xe9 trouv\xe9",emptyDescFiltered:"Aucun employ\xe9 ne correspond \xe0 vos crit\xe8res.",emptyDescAll:"Aucun employ\xe9 disponible.",toastStart:"Travail commenc\xe9",toastStop:"Travail termin\xe9",toastError:"Erreur lors de l'action",morning:"Matin",evening:"Soir\xe9e",double:"Doublage"},ar:{headerTitle:"نظام حضور الفريق",headerSubtitle:"إدارة أوقات عمل فريقك",statTeam:"إجمالي الفريق",statTeamDesc:"موظفون",statOnDuty:"على رأس العمل",statOnDutyDesc:"حاليًا",statPlanned:"مخططون",statPlannedDesc:"اليوم",statHours:"إجمالي الساعات",statHoursDesc:"تقديري",searchPlaceholder:"ابحث عن موظف...",filterAll:"الكل",filterActive:"نشطون",filterInactive:"غير نشطين",sectionTitle:"إدارة وقت الفريق",sectionSubtitle:e=>`إدارة ساعات العمل لـ ${e}`,onDuty:"على رأس العمل",offDuty:"خارج العمل",start:"بدء",stop:"إنهاء",history:"السجل",role:"المنصب",shift:"الوردية",uniforms:"الأزياء",startTime:"البدء",endTime:"النهاية",emptyTitle:"لا يوجد موظفون",emptyDescFiltered:"لا يوجد موظفون يطابقون معاييرك.",emptyDescAll:"لا يوجد موظفون متاحون.",toastStart:"تم بدء العمل",toastStop:"تم إنهاء العمل",toastError:"حدث خطأ أثناء الإجراء",morning:"صباحي",evening:"مسائي",double:"مزدوج"}};function A(e){return e?String(e).slice(0,5):"—"}function k(){let{lang:e,formatDate:t}=(0,y.uU)(),s=N[e],[k,D]=(0,r.useState)(""),[T,C]=(0,r.useState)("all"),[P,S]=(0,r.useState)(new Date().toISOString().split("T")[0]),{data:E,loading:R}=(0,i.I)(v.dO),{data:q,loading:I,refetch:M}=(0,i.I)(v.G0,{variables:{date:P}}),[F,{loading:z}]=(0,n.n)(v.XB),H=Array.isArray(E?.employees)?E.employees:[],G=Array.isArray(q?.workSchedules)?q.workSchedules:[],L=(0,r.useMemo)(()=>{let e=k.trim().toLowerCase();return H.filter(t=>{let s=!e||t.nom.toLowerCase().includes(e)||t.prenom.toLowerCase().includes(e)||(t.job_title||"").toLowerCase().includes(e),a="all"===T||t.status===T;return s&&a})},[H,k,T]);function Z(e){return G.find(t=>t.employee_id===e&&t.date===P)}let $=L.filter(e=>G.some(t=>t.employee_id===e.id&&t.is_working)).length,O=8*G.length;async function U(e,t){let a=new Date().toTimeString().split(" ")[0];try{"start"===t?(await F({variables:{employee_id:e,date:P,start_time:a,shift_type:"morning",job_position:"employee",is_working:!0}}),w.oR.success(s.toastStart)):(await F({variables:{employee_id:e,date:P,end_time:a,shift_type:"morning",job_position:"employee",is_working:!1}}),w.oR.success(s.toastStop)),M()}catch(e){console.error("Error with time action:",e),w.oR.error(s.toastError)}}return(0,r.useMemo)(()=>t(new Date(P),{year:"numeric",month:"long",day:"numeric"}),[P,t]),(0,a.jsxs)("div",{className:"min-h-screen relative overflow-hidden animate-fade-in",children:[(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none z-0",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/80 via-blue-900/60 to-slate-900/80 backdrop-blur-[6px]"}),[...Array(20)].map((e,t)=>(0,a.jsx)("div",{className:"absolute w-1 h-1 bg-gradient-to-r from-blue-400 to-green-400 rounded-full opacity-30 animate-float",style:{left:`${100*Math.random()}%`,top:`${100*Math.random()}%`,animationDelay:`${6*Math.random()}s`,animationDuration:`${6+4*Math.random()}s`}},t))]}),(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-6 lg:space-y-8 p-3 sm:p-4 lg:p-6 relative z-20 max-w-screen-xl mx-auto",children:[(0,a.jsxs)("div",{className:"glass-card backdrop-blur-futuristic p-4 sm:p-6 lg:p-8 text-white shadow-2xl relative overflow-hidden border border-white/10",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/30 via-green-900/40 to-blue-900/30 opacity-70 rounded-2xl"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-100%] animate-[shimmer_3s_ease-in-out_infinite] rounded-2xl"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 relative z-10",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-700/40 to-green-700/40 rounded-xl flex items-center justify-center border border-white/10",children:(0,a.jsx)(o.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-1 bg-gradient-to-r from-white via-blue-200 to-green-200 bg-clip-text text-transparent",dir:"auto",children:s.headerTitle}),(0,a.jsx)("p",{className:"text-slate-200 text-sm md:text-base",dir:"auto",children:s.headerSubtitle})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[{title:s.statTeam,value:L.length.toString(),description:s.statTeamDesc,icon:l.A,color:"text-primary"},{title:s.statOnDuty,value:$.toString(),description:s.statOnDutyDesc,icon:d.A,color:"text-green-400"},{title:s.statPlanned,value:G.length.toString(),description:s.statPlannedDesc,icon:c.A,color:"text-blue-400"},{title:s.statHours,value:`${O}h`,description:s.statHoursDesc,icon:o.A,color:"text-cyan-400"}].map((e,t)=>(0,a.jsx)(x.Zp,{className:"glass-card backdrop-blur-futuristic border border-white/10 shadow-2xl bg-gradient-to-br from-slate-900/70 via-blue-900/60 to-slate-900/70",children:(0,a.jsx)(x.Wu,{className:"p-3 sm:p-4 lg:p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white",children:e.value}),(0,a.jsx)("div",{className:"text-xs sm:text-sm font-medium text-blue-200 leading-tight",dir:"auto",children:e.title}),(0,a.jsx)("div",{className:"text-xs text-green-200 mt-1 leading-tight hidden sm:block",dir:"auto",children:e.description})]}),(0,a.jsx)(e.icon,{className:(0,j.cn)("w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 flex-shrink-0",e.color)})]})})},t))}),(0,a.jsx)(x.Zp,{className:"glass-card backdrop-blur-futuristic border border-white/10 shadow-2xl bg-gradient-to-br from-slate-900/70 via-blue-900/60 to-slate-900/70",children:(0,a.jsx)(x.Wu,{className:"p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 flex-1",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-200 w-4 h-4"}),(0,a.jsx)(g.p,{placeholder:s.searchPlaceholder,value:k,onChange:e=>D(e.target.value),className:"pl-10 text-sm h-10 sm:h-12 glass-card bg-gradient-to-br from-blue-900/40 to-green-900/40 border border-white/10 text-white placeholder:text-blue-200"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 text-blue-200 flex-shrink-0"}),(0,a.jsxs)(_.l6,{value:T,onValueChange:e=>C(e),children:[(0,a.jsx)(_.bq,{className:"w-full sm:w-[140px] text-sm h-10 sm:h-12 glass-card bg-gradient-to-br from-blue-900/40 to-green-900/40 border border-white/10 text-white",children:(0,a.jsx)(_.yv,{})}),(0,a.jsxs)(_.gC,{className:"glass-card bg-gradient-to-br from-blue-900/80 to-green-900/80 border border-white/10 text-white",children:[(0,a.jsx)(_.eb,{value:"all",className:"text-sm",children:s.filterAll}),(0,a.jsx)(_.eb,{value:"active",className:"text-sm",children:s.filterActive}),(0,a.jsx)(_.eb,{value:"inactive",className:"text-sm",children:s.filterInactive})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 text-blue-200 flex-shrink-0"}),(0,a.jsx)(g.p,{type:"date",value:P,onChange:e=>S(e.target.value),className:"text-sm h-10 sm:h-12 w-full sm:w-auto glass-card bg-gradient-to-br from-blue-900/40 to-green-900/40 border border-white/10 text-white"})]})]})})}),(0,a.jsxs)(x.Zp,{className:"glass-card backdrop-blur-futuristic border border-white/10 shadow-2xl bg-gradient-to-br from-slate-900/70 via-blue-900/60 to-slate-900/70",children:[(0,a.jsxs)(x.aR,{className:"p-4 sm:p-6",children:[(0,a.jsxs)(x.ZB,{className:"flex items-center text-base sm:text-lg text-white",children:[(0,a.jsx)(l.A,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),s.sectionTitle]}),(0,a.jsx)(x.BT,{className:"text-sm text-blue-200",dir:"auto",children:s.sectionSubtitle(t(new Date(P),{year:"numeric",month:"long",day:"numeric"}))})]}),(0,a.jsx)(x.Wu,{className:"p-4 sm:p-6 pt-0",children:R||I?(0,a.jsx)("div",{className:"space-y-3 sm:space-y-4",children:Array.from({length:5}).map((e,t)=>(0,a.jsx)("div",{className:"border border-white/10 rounded-xl p-4 sm:p-6 glass-card bg-gradient-to-br from-blue-900/40 to-green-900/40",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-slate-800/60"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 w-40 bg-slate-700/50 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-3 w-24 bg-slate-700/40 rounded animate-pulse"})]})]}),(0,a.jsx)("div",{className:"h-10 w-40 bg-slate-800/60 rounded animate-pulse"})]})},t))}):L.length>0?(0,a.jsx)("div",{className:"space-y-3 sm:space-y-4",children:L.map(e=>{let t=Z(e.id),r=function(e){let t=Z(e);return!!(t?.is_working&&t?.start_time&&!t?.end_time)}(e.id);return(0,a.jsxs)("div",{className:"border border-white/10 rounded-xl p-4 sm:p-6 glass-card bg-gradient-to-br from-blue-900/40 to-green-900/40 hover:bg-blue-900/60 transition-colors",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-700/40 to-green-700/40 rounded-lg flex items-center justify-center flex-shrink-0 border border-white/10",children:(0,a.jsx)(l.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[(0,a.jsxs)("h3",{className:"text-sm sm:text-base font-semibold text-white truncate",dir:"auto",children:[e.prenom," ",e.nom]}),(0,a.jsx)(b.E,{className:(0,j.cn)("text-xs w-fit glass-card border border-white/10",r?"bg-green-600/80 text-white":"bg-blue-900/60 text-blue-200"),dir:"auto",children:r?s.onDuty:s.offDuty})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 text-xs sm:text-sm text-blue-200",children:[(0,a.jsxs)("span",{dir:"auto",children:[s.role,": ",e.job_title]}),t&&(0,a.jsx)("span",{className:"hidden sm:inline",children:"•"}),t&&(0,a.jsxs)("span",{children:[A(t.start_time)," - ",A(t.end_time)]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 lg:flex-shrink-0",children:[r?(0,a.jsxs)(f.$,{onClick:()=>U(e.id,"end"),disabled:z,className:"glass-card bg-gradient-to-br from-blue-700/40 to-green-700/40 text-white border border-white/10 text-xs sm:text-sm h-8 sm:h-10 shadow",children:[(0,a.jsx)(h.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),s.stop]}):(0,a.jsxs)(f.$,{onClick:()=>U(e.id,"start"),disabled:z,className:"glass-card bg-gradient-to-br from-green-700/40 to-blue-700/40 text-white border border-white/10 text-xs sm:text-sm h-8 sm:h-10 shadow",children:[(0,a.jsx)(p.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),s.start]}),(0,a.jsxs)(f.$,{variant:"outline",size:"sm",className:"glass-card bg-gradient-to-br from-blue-900/40 to-green-900/40 border border-white/10 text-white text-xs sm:text-sm h-8 sm:h-10 shadow",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),s.history]})]})]}),t&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-white/10",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm sm:text-base font-bold text-white",children:A(t.start_time)}),(0,a.jsx)("div",{className:"text-xs text-blue-200",dir:"auto",children:s.startTime})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm sm:text-base font-bold text-white",children:A(t.end_time)}),(0,a.jsx)("div",{className:"text-xs text-blue-200",dir:"auto",children:s.endTime})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm sm:text-base font-bold text-white",children:function(e){let t=String(e||"").toLowerCase();return t.includes("doubl")?s.double:t.includes("soir")||t.includes("even")?s.evening:s.morning}(t.shift_type)}),(0,a.jsx)("div",{className:"text-xs text-blue-200",dir:"auto",children:s.shift})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm sm:text-base font-bold text-white",children:(0,a.jsx)("span",{className:"tabular-nums",dir:"ltr",children:e.tenu_de_travail||0})}),(0,a.jsx)("div",{className:"text-xs text-blue-200",dir:"auto",children:s.uniforms})]})]})})]},e.id)})}):(0,a.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,a.jsx)(l.A,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto text-blue-200/50 mb-4"}),(0,a.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-white mb-2",dir:"auto",children:s.emptyTitle}),(0,a.jsx)("p",{className:"text-sm text-blue-200",dir:"auto",children:k||"all"!==T?s.emptyDescFiltered:s.emptyDescAll})]})})]})]})]})}},94474:(e,t,s)=>{"use strict";function a(){return null}s.r(t),s.d(t,{default:()=>a})},96487:()=>{},97840:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},98492:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},98906:(e,t,s)=>{Promise.resolve().then(s.bind(s,79447))},99270:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[7719,9922,4774,5806,2581,4803,1536,972,4537],()=>s(48539));module.exports=a})();