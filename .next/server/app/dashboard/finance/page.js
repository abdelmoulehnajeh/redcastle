(()=>{var e={};e.id=5312,e.ids=[5312],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13691:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/monta/rabota/work3/redcastel/app/dashboard/finance/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/monta/rabota/work3/redcastel/app/dashboard/finance/page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24354:(e,t,a)=>{"use strict";a.d(t,{BG:()=>d,Vt:()=>r,uU:()=>c});var s=a(43210);let r="Africa/Tunis",i={fr:{active:"Actif",inactive:"Inactif",unknown_date:"Date inconnue",invalid_date:"Date invalide",loading:"Chargement...",cancel:"Annuler",save:"Sauver",edit:"Modifier",urgent:"Urgent",space:"Espace",role_admin:"Admin",role_manager:"Manager",role_employee:"Employ\xe9",nav:"Navigation",header_title_admin:"Administration",header_title_manager:"Management",header_title_employee:"Espace Employ\xe9",header_subtitle:"Tableau de bord Red Castle",notifications:"Notifications",profile:"Profil",settings:"Param\xe8tres",logout:"D\xe9connexion",notif_title:"\uD83D\uDD14 Approbations en attente",no_notifications:"✨ Aucune notification",schedule_change:"\uD83D\uDCC5 Changement de planning",date_unknown:"Date inconnue",received_at_prefix:"Re\xe7u le",admin_title:"Administration Red Castle",admin_subtitle:"Tableau de bord administrateur - Vue d'ensemble",system_active:"Syst\xe8me actif",last_update_now:"Derni\xe8re mise \xe0 jour: maintenant",stat_total_employees:"Total Employ\xe9s",stat_all_restaurants:"Tous restaurants",stat_active_locations:"Restaurants Actifs",stat_locations_open:"Locations ouvertes",stat_revenue:"Chiffre d'Affaires",stat_this_month:"Ce mois",stat_approvals:"Approbations",stat_pending:"En attente",chart_global_perf:"Performance Globale",chart_global_perf_desc:"\xc9volution du chiffre d'affaires et des effectifs",chart_perf_by_location:"Performance par Restaurant",chart_perf_by_location_desc:"Chiffre d'affaires mensuel par location",restaurants_manage:"Gestion des Restaurants",restaurants_overview:"Vue d'ensemble de tous les restaurants Red Castle",employees:"Employ\xe9s",monthly_revenue:"CA Mensuel",performance:"Performance",recent_activities:"Activit\xe9s R\xe9centes",recent_activities_desc:"Derni\xe8res actions n\xe9cessitant votre attention",loading_activities:"Chargement des activit\xe9s...",error_loading_activities:"Erreur lors du chargement des activit\xe9s",no_recent_activity:"Aucune activit\xe9 r\xe9cente",m_jan:"Jan",m_feb:"F\xe9v",m_mar:"Mar",m_apr:"Avr",m_may:"Mai",m_jun:"Jun",personal_info:"Informations Personnelles",full_name:"Nom Complet",job_title:"Poste",status:"Statut",hire_date:"Date d'embauche",financial_info:"Informations Financi\xe8res",salary:"Salaire",bonus:"Prime",advance:"Avance",net_salary_est:"Salaire Net Estim\xe9",performance_title:"Performance",overall_performance:"Performance globale",excellent:"Excellent",good:"Bon",needs_improvement:"\xc0 am\xe9liorer",worked_hours:"Heures travaill\xe9es",sessions:"Sessions",disciplinary_data:"Donn\xe9es Disciplinaires",infractions:"Infractions",absences:"Absences",delays:"Retards",uniforms:"Tenues de travail",recent_activity:"Activit\xe9 R\xe9cente",recent_sessions:"Derni\xe8res sessions de travail",in_progress:"En cours",done:"Termin\xe9",contracts:"Contrats",contract_prefix:"Contrat",from:"Du",to:"au",uniforms_count:"tenues",active_session:"Session active",sessions_done:"Sessions termin\xe9es",punch_title:"Pointeuse",punch_subtitle:"G\xe9rez vos heures de travail",current_status:"Statut Actuel",on_duty:"En service",off_duty:"Hors service",check_in:"Pointage d’arriv\xe9e",check_out:"Pointage de d\xe9part",arrived_at:"Arriv\xe9e",working_time:"Temps de travail",position:"Position",punch_in_btn:"Pointer l'arriv\xe9e",punch_out_btn:"Pointer le d\xe9part",today_summary:"R\xe9sum\xe9 du jour",today_history:"Historique du jour",unknown_status:"Statut inconnu",geo_warning:"La g\xe9olocalisation n'est pas disponible. Certaines fonctionnalit\xe9s peuvent \xeatre limit\xe9es.",toast_checkin_success:"Vous avez point\xe9 votre arriv\xe9e avec succ\xe8s",toast_checkout_success:"Vous avez point\xe9 votre d\xe9part avec succ\xe8s",toast_error:"Erreur",toast_checkin_error:"Erreur lors du pointage d'arriv\xe9e",toast_checkout_error:"Erreur lors du pointage de d\xe9part",toast_update_success:"Employ\xe9 mis \xe0 jour avec succ\xe8s",toast_update_error:"Erreur lors de la mise \xe0 jour"},ar:{active:"نشط",inactive:"غير نشط",unknown_date:"تاريخ غير معروف",invalid_date:"تاريخ غير صالح",loading:"جاري التحميل...",cancel:"إلغاء",save:"حفظ",edit:"تعديل",urgent:"عاجل",space:"مساحة",role_admin:"مدير",role_manager:"مشرف",role_employee:"موظف",nav:"التنقل",header_title_admin:"الإدارة",header_title_manager:"الإشراف",header_title_employee:"مساحة الموظف",header_subtitle:"لوحة تحكم ريد كاسل",notifications:"الإشعارات",profile:"الملف الشخصي",settings:"الإعدادات",logout:"تسجيل الخروج",notif_title:"\uD83D\uDD14 موافقات قيد الانتظار",no_notifications:"✨ لا توجد إشعارات",schedule_change:"\uD83D\uDCC5 تغيير الجدول",date_unknown:"تاريخ غير معروف",received_at_prefix:"تم الاستلام في",admin_title:"إدارة ريد كاسل",admin_subtitle:"لوحة تحكم المدير - نظرة عامة",system_active:"النظام نشط",last_update_now:"آخر تحديث: الآن",stat_total_employees:"إجمالي الموظفين",stat_all_restaurants:"جميع المطاعم",stat_active_locations:"المطاعم النشطة",stat_locations_open:"الفروع المفتوحة",stat_revenue:"رقم المعاملات",stat_this_month:"هذا الشهر",stat_approvals:"الموافقات",stat_pending:"قيد الانتظار",chart_global_perf:"الأداء العام",chart_global_perf_desc:"تطور رقم المعاملات وعدد الموظفين",chart_perf_by_location:"الأداء حسب المطعم",chart_perf_by_location_desc:"رقم المعاملات الشهري لكل موقع",restaurants_manage:"إدارة المطاعم",restaurants_overview:"نظرة عامة على جميع مطاعم ريد كاسل",employees:"الموظفون",monthly_revenue:"المعاملات الشهرية",performance:"الأداء",recent_activities:"الأنشطة الأخيرة",recent_activities_desc:"أحدث الإجراءات التي تتطلب اهتمامك",loading_activities:"جاري تحميل الأنشطة...",error_loading_activities:"حدث خطأ أثناء تحميل الأنشطة",no_recent_activity:"لا توجد أنشطة حديثة",m_jan:"جان",m_feb:"فيف",m_mar:"مار",m_apr:"أف",m_may:"ماي",m_jun:"جون",personal_info:"المعلومات الشخصية",full_name:"الاسم الكامل",job_title:"المنصب",status:"الحالة",hire_date:"تاريخ التوظيف",financial_info:"المعلومات المالية",salary:"الراتب",bonus:"منحة",advance:"سلفة",net_salary_est:"صافي الراتب التقديري",performance_title:"الأداء",overall_performance:"الأداء العام",excellent:"ممتاز",good:"جيد",needs_improvement:"بحاجة لتحسين",worked_hours:"ساعات العمل",sessions:"الجلسات",disciplinary_data:"البيانات التأديبية",infractions:"مخالفات",absences:"غيابات",delays:"تأخيرات",uniforms:"أزياء العمل",recent_activity:"النشاط الأخير",recent_sessions:"آخر جلسات العمل",in_progress:"قيد العمل",done:"منتهي",contracts:"العقود",contract_prefix:"عقد",from:"من",to:"إلى",uniforms_count:"أزياء",active_session:"جلسة نشطة",sessions_done:"الجلسات المكتملة",punch_title:"آلة تسجيل الوقت",punch_subtitle:"إدارة ساعات عملك",current_status:"الحالة الحالية",on_duty:"على رأس العمل",off_duty:"خارج العمل",check_in:"تسجيل الوصول",check_out:"تسجيل الانصراف",arrived_at:"وقت الوصول",working_time:"وقت العمل",position:"الموقع",punch_in_btn:"تسجيل الوصول",punch_out_btn:"تسجيل الانصراف",today_summary:"ملخص اليوم",today_history:"سجل اليوم",unknown_status:"حالة غير معروفة",geo_warning:"خدمة تحديد الموقع غير متاحة. قد تكون بعض الميزات محدودة.",toast_checkin_success:"تم تسجيل وصولك بنجاح",toast_checkout_success:"تم تسجيل انصرافك بنجاح",toast_error:"خطأ",toast_checkin_error:"حدث خطأ أثناء تسجيل الوصول",toast_checkout_error:"حدث خطأ أثناء تسجيل الانصراف",toast_update_success:"تم تحديث الموظف بنجاح",toast_update_error:"حدث خطأ أثناء التحديث"}};function n(e){return"ar"===e?"ar-TN":"fr-TN"}function l(e){return e instanceof Date?e:new Date(e)}function o(e,t){return{...e??{},timeZone:e?.timeZone??t??r}}function d(e=new Date,t=r){let a=l(e);return new Intl.DateTimeFormat("en-CA",o({year:"numeric",month:"2-digit",day:"2-digit"},t)).format(a)}function c(e="fr"){let[t,a]=(0,s.useState)(e),d=(0,s.useCallback)(e=>{let t="ar"===e?"ar":"fr";a(t),function(e){if("undefined"==typeof document)return;let t=document.documentElement;t.lang=e,t.dir="ltr"}(t)},[]),u=(0,s.useCallback)((e,a)=>{let s=i[t];return s&&s[e]||a||e},[t]),m=n(t),p=(0,s.useCallback)((e,a)=>(function(e,t,a,s){let r=l(e);return isNaN(r.getTime())?"":new Intl.DateTimeFormat(n(t),o(a,s)).format(r)})(e,t,a,r),[t,r]),x=(0,s.useCallback)((e,a)=>(function(e,t,a,s){let r=l(e);return isNaN(r.getTime())?"":new Intl.DateTimeFormat(n(t),o({hour:"2-digit",minute:"2-digit",second:"2-digit",...a??{}},s)).format(r)})(e,t,a,r),[t,r]),f=(0,s.useCallback)((e,a)=>new Intl.NumberFormat(n(t),a).format(Number.isFinite(e)?e:0),[t]),h=(0,s.useCallback)((e,a="TND",s=0)=>(function(e,t,a="TND",s=0){return new Intl.NumberFormat(n(t),{style:"currency",currency:a,currencyDisplay:"narrowSymbol",maximumFractionDigits:s}).format(Number.isFinite(e)?e:0)})(e,t,a,s),[t]);return{lang:t,t:u,locale:m,timeZone:r,setLang:d,formatDate:p,formatTime:x,formatNumber:f,formatCurrency:h}}},25177:(e,t,a)=>{"use strict";a.d(t,{C1:()=>y,bL:()=>g});var s=a(43210),r=a(11273),i=a(14163),n=a(60687),l="Progress",[o,d]=(0,r.A)(l),[c,u]=o(l),m=s.forwardRef((e,t)=>{var a,s;let{__scopeProgress:r,value:l=null,max:o,getValueLabel:d=f,...u}=e;(o||0===o)&&!v(o)&&console.error((a=`${o}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=v(o)?o:100;null===l||_(l,m)||console.error((s=`${l}`,`Invalid prop \`value\` of value \`${s}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let p=_(l,m)?l:null,x=b(p)?d(p,m):void 0;return(0,n.jsx)(c,{scope:r,value:p,max:m,children:(0,n.jsx)(i.sG.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":b(p)?p:void 0,"aria-valuetext":x,role:"progressbar","data-state":h(p,m),"data-value":p??void 0,"data-max":m,...u,ref:t})})});m.displayName=l;var p="ProgressIndicator",x=s.forwardRef((e,t)=>{let{__scopeProgress:a,...s}=e,r=u(p,a);return(0,n.jsx)(i.sG.div,{"data-state":h(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:t})});function f(e,t){return`${Math.round(e/t*100)}%`}function h(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function b(e){return"number"==typeof e}function v(e){return b(e)&&!isNaN(e)&&e>0}function _(e,t){return b(e)&&!isNaN(e)&&e<=t&&e>=0}x.displayName=p;var g=m,y=x},25541:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(62688).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},26306:(e,t,a)=>{Promise.resolve().then(a.bind(a,88381))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43649:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(62688).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},47033:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(62688).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},55192:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>l});var s=a(60687),r=a(43210),i=a(96241);let n=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},57291:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=a(65239),r=a(48088),i=a(88170),n=a.n(i),l=a(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d={children:["",{children:["dashboard",{children:["finance",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,13691)),"/home/monta/rabota/work3/redcastel/app/dashboard/finance/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,83249)),"/home/monta/rabota/work3/redcastel/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,58014)),"/home/monta/rabota/work3/redcastel/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/monta/rabota/work3/redcastel/app/dashboard/finance/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboard/finance/page",pathname:"/dashboard/finance",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},86138:(e,t,a)=>{Promise.resolve().then(a.bind(a,13691))},86287:(e,t,a)=>{"use strict";a.d(t,{k:()=>l});var s=a(60687),r=a(43210),i=a(25177),n=a(96241);let l=r.forwardRef(({className:e,value:t,...a},r)=>(0,s.jsx)(i.bL,{ref:r,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:(0,s.jsx)(i.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));l.displayName=i.bL.displayName},86561:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(62688).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},88381:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(60687),r=a(43210),i=a(1797),n=a(23928),l=a(86561);let o=(0,a(62688).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var d=a(40228),c=a(47033),u=a(14952),m=a(25541),p=a(43649),x=a(55192),f=a(59821),h=a(24934),b=a(86287),v=a(45126),_=a(50848),g=a(24354);let y={fr:{headerTitle:"Finance",headerSubtitle:"Consultez vos informations financi\xe8res",salaryTitle:"R\xe9sum\xe9 salarial",salarySubtitle:"Votre r\xe9mun\xe9ration mensuelle d\xe9taill\xe9e",baseSalary:"Salaire de base",monthlySalary:"Salaire mensuel",bonus:"Prime",monthlyBonus:"Prime mensuelle",advance:"Avance",salaryAdvance:"Avance sur salaire",netSalary:"Salaire net estim\xe9",netSalaryFormula:"Calcul : Salaire + Prime - Avance",performanceTitle:"Score de performance",performanceSubtitle:"Bas\xe9 sur votre assiduit\xe9 et comportement",performanceGlobal:"Performance globale",gradeExcellent:"Excellent",gradeGood:"Bon",gradeImprove:"\xc0 am\xe9liorer",disciplinaryTitle:"Donn\xe9es disciplinaires",disciplinarySubtitle:"Suivi de votre assiduit\xe9",infractions:"Infractions",infractionsDesc:"Infractions totales",absences:"Absences",absencesDesc:"Jours d'absence",late:"Retards",lateDesc:"Nombre de retards",additionalInfoTitle:"Informations compl\xe9mentaires",additionalInfoSubtitle:"D\xe9tails sur votre situation",uniform:"Tenue de travail",uniformsProvided:"Tenues fournies",units:"unit\xe9s",status:"Statut employ\xe9",currentStatus:"Statut actuel",active:"Actif",inactive:"Inactif",currency:"DT",presenceTitle:"Pr\xe9sence du mois",presenceSubtitle:e=>`Vue de vos shifts — ${e}`,workedDays:"Jours travaill\xe9s",doubleShifts:"Doublages",offDays:"Jours off"},ar:{headerTitle:"المالية",headerSubtitle:"اطّلع على معلوماتك المالية",salaryTitle:"ملخص الراتب",salarySubtitle:"تفاصيل راتبك الشهري",baseSalary:"الراتب الأساسي",monthlySalary:"راتب شهري",bonus:"منحة",monthlyBonus:"منحة شهرية",advance:"سلفة",salaryAdvance:"سلفة على الراتب",netSalary:"الراتب الصافي التقديري",netSalaryFormula:"الحساب: الراتب + المنحة - السلفة",performanceTitle:"درجة الأداء",performanceSubtitle:"استنادًا إلى الانضباط والسلوك",performanceGlobal:"الأداء العام",gradeExcellent:"ممتاز",gradeGood:"جيد",gradeImprove:"بحاجة لتحسين",disciplinaryTitle:"بيانات الانضباط",disciplinarySubtitle:"متابعة الانضباط",infractions:"مخالفات",infractionsDesc:"إجمالي المخالفات",absences:"غيابات",absencesDesc:"أيام الغياب",late:"تأخيرات",lateDesc:"عدد التأخيرات",additionalInfoTitle:"معلومات إضافية",additionalInfoSubtitle:"تفاصيل حول وضعك",uniform:"الزيّ المهني",uniformsProvided:"عدد الأزياء المُقدّمة",units:"وحدات",status:"حالة الموظف",currentStatus:"الحالة الحالية",active:"نشِط",inactive:"غير نشِط",currency:"د.ت",presenceTitle:"الحضور الشهري",presenceSubtitle:e=>`عرض نوبات العمل — ${e}`,workedDays:"أيام العمل",doubleShifts:"النوبات المضاعفة",offDays:"أيام الراحة"}};function N(e,t){let[a,s]=e.split("-").map(Number),r=new Date(a,s-1+t,1);return`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`}function j(){let{user:e}=(0,v.A)(),{lang:t}=(0,g.uU)(),a=y[t],j="ar"===t?"text-right":"text-left",w=(0,r.useMemo)(()=>new Intl.NumberFormat("ar"===t?"ar-TN":"fr-TN"),[t]),{data:k,loading:S}=(0,i.I)(_.iO,{variables:{id:e?.employee_id},skip:!e?.employee_id,fetchPolicy:"cache-and-network"}),A=k?.employee,D=S||!A,T=Number(A?.salaire??0),P=Number(A?.prime??0),C=Number(A?.avance??0),I=Number(A?.infractions??0),R=Number(A?.absence??0),E=Number(A?.retard??0),M=Math.max(0,T+P-C),$=Math.max(0,Math.min(100,100-(5*I+3*R+2*E))),z=({amount:e})=>(0,s.jsxs)("span",{dir:"ltr",className:"tabular-nums",children:[w.format(e)," ",a.currency]}),[B,F]=(0,r.useState)(new Date().toISOString().slice(0,7)),{startDate:G,endDate:Z}=function(e){let t=new Date(`${e}-01T00:00:00`),a=new Date(t);return a.setMonth(a.getMonth()+1),a.setDate(0),{startDate:t.toISOString().slice(0,10),endDate:a.toISOString().slice(0,10)}}(B),{data:q}=(0,i.I)(_.Yo,{variables:{employeeId:e?.employee_id,startDate:G,endDate:Z},skip:!e?.employee_id}),{data:L}=(0,i.I)(_.gG,{variables:{employee_id:e?.employee_id,start:G,end:Z},skip:!e?.employee_id}),V=q?.timeEntries||[],O=L?.workSchedulesRange||[],J=(0,r.useMemo)(()=>{let e=new Map;for(let t of O){let a=String(t.date),s=0;"Doublage"===t.shift_type?s=2:("Matin"===t.shift_type||"Soir\xe9e"===t.shift_type)&&(s=1),e.set(a,Math.max(e.get(a)||0,s))}for(let[t,a]of Object.entries(V.reduce((e,t)=>{let a=String(t.date);return e[a]=(e[a]||0)+1,e},{})))e.has(t)||e.set(t,Math.min(2,a));return e},[O,V]),W=0,H=0,U=new Date(Number(B.split("-")[0]),Number(B.split("-")[1]),0).getDate();for(let e=1;e<=U;e++){let t=`${B}-${String(e).padStart(2,"0")}`,a=J.get(t)||0;a>=1&&W++,a>=2&&H++}let X=Math.max(0,U-W);return(0,s.jsxs)("div",{className:"relative",dir:"ltr",children:[(0,s.jsx)("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-purple-900/30 via-slate-900/30 to-slate-950"}),(0,s.jsxs)("main",{className:"mx-auto max-w-7xl px-3 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6",children:[(0,s.jsx)("div",{className:"rounded-2xl border bg-gradient-to-br from-slate-900/80 to-slate-800/70 border-slate-700 p-4 sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"size-10 rounded-lg bg-white/10 flex items-center justify-center shrink-0",children:(0,s.jsx)(n.A,{className:"size-5 text-white"})}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("h1",{className:"text-lg sm:text-2xl font-semibold tracking-tight text-white",dir:"auto",children:a.headerTitle}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-white/80",dir:"auto",children:a.headerSubtitle})]})]})}),(0,s.jsxs)(x.Zp,{className:"rounded-2xl border border-slate-700 bg-slate-900/70 backdrop-blur",children:[(0,s.jsxs)(x.aR,{className:"pb-2",children:[(0,s.jsxs)(x.ZB,{className:"text-white text-base sm:text-lg flex items-center gap-2",dir:"auto",children:[(0,s.jsx)(n.A,{className:"size-5"}),a.salaryTitle]}),(0,s.jsx)(x.BT,{className:"text-slate-300",dir:"auto",children:a.salarySubtitle})]}),(0,s.jsxs)(x.Wu,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[{title:a.baseSalary,value:(0,s.jsx)(z,{amount:T}),description:a.monthlySalary,icon:n.A,color:"text-emerald-500"},{title:a.bonus,value:(0,s.jsx)(z,{amount:P}),description:a.monthlyBonus,icon:l.A,color:"text-emerald-400"},{title:a.advance,value:(0,s.jsx)(z,{amount:C}),description:a.salaryAdvance,icon:o,color:"text-rose-500"}].map((e,t)=>(0,s.jsxs)("div",{className:"space-y-3 rounded-xl border border-slate-800 bg-slate-900/60 p-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:`flex items-center gap-2 ${j}`,children:[(0,s.jsx)(e.icon,{className:`size-4 ${e.color}`}),(0,s.jsx)("span",{className:"text-sm font-medium text-slate-300",dir:"auto",children:e.title})]})}),(0,s.jsx)("div",{className:`text-2xl font-bold text-white ${j}`,children:e.value}),(0,s.jsx)("div",{className:`text-xs text-slate-400 ${j}`,dir:"auto",children:e.description})]},t))}),(0,s.jsx)("div",{className:"mt-6 p-4 rounded-xl border border-slate-800 bg-slate-900/60",children:D?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"h-4 w-40 animate-pulse rounded bg-slate-700/50"}),(0,s.jsx)("div",{className:"h-7 w-24 animate-pulse rounded bg-slate-700/50"})]}),(0,s.jsx)("div",{className:"h-3 w-56 animate-pulse rounded bg-slate-700/40"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-300",dir:"auto",children:a.netSalary}),(0,s.jsx)("span",{className:"text-2xl font-bold text-white",children:(0,s.jsx)(z,{amount:M})})]}),(0,s.jsx)("div",{className:"text-xs text-slate-400 mt-1",dir:"auto",children:a.netSalaryFormula})]})})]})]}),(0,s.jsxs)(x.Zp,{className:"rounded-2xl border border-slate-700 bg-slate-900/70 backdrop-blur text-white",children:[(0,s.jsx)(x.aR,{className:"pb-2",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(x.ZB,{className:"text-white text-base sm:text-lg flex items-center gap-2",dir:"auto",children:[(0,s.jsx)(d.A,{className:"size-5"}),a.presenceTitle]}),(0,s.jsx)(x.BT,{className:"text-slate-300",dir:"auto",children:a.presenceSubtitle(function(e,t){try{let a=new Date(`${e}-01T00:00:00`);return new Intl.DateTimeFormat(t,{month:"long",year:"numeric"}).format(a)}catch{return e}}(B,"ar"===t?"ar":"fr-FR"))})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(h.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>F(e=>N(e,-1)),children:[(0,s.jsx)(c.A,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Prev"})]}),(0,s.jsxs)(h.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>F(e=>N(e,1)),children:[(0,s.jsx)(u.A,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Next"})]})]})]})}),(0,s.jsxs)(x.Wu,{children:[(0,s.jsxs)("div",{className:"mb-3 flex items-center gap-4 text-xs text-slate-300",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"inline-block size-2 rounded-full bg-emerald-400"}),(0,s.jsxs)("span",{dir:"auto",children:[a.workedDays,": ",W]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"inline-block size-2 rounded-full bg-emerald-400 shadow-[0_0_0_3px_rgba(16,185,129,0.35)]"}),(0,s.jsxs)("span",{dir:"auto",children:[a.doubleShifts,": ",H]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"inline-block size-2 rounded-full bg-slate-600"}),(0,s.jsxs)("span",{dir:"auto",children:[a.offDays,": ",X]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-7 gap-2 sm:gap-3",children:[["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(e=>(0,s.jsx)("div",{className:"text-xs sm:text-sm text-slate-300 text-center",children:e},e)),(()=>{let e=new Date(`${B}-01T00:00:00`),t=(e.getDay()+6)%7,a=new Date(e);a.setMonth(a.getMonth()+1),a.setDate(0);let s=a.getDate(),r=[];for(let e=0;e<t;e++)r.push({type:"blank"});for(let e=1;e<=s;e++)r.push({type:"day",day:e});return r})().map((e,t)=>{if("blank"===e.type)return(0,s.jsx)("div",{className:"h-16 sm:h-20 rounded-xl bg-transparent"},`blank-${t}`);let a=`${B}-${String(e.day).padStart(2,"0")}`,r=J.get(a)||0;return(0,s.jsxs)("div",{className:`h-16 sm:h-20 rounded-xl border border-white/10 relative overflow-hidden
                        ${r>0?"bg-emerald-500/5":"bg-slate-800/30"}`,children:[(0,s.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/5"})}),(0,s.jsxs)("div",{className:"p-2 flex flex-col h-full",children:[(0,s.jsx)("div",{className:"text-xs sm:text-sm text-white/90",children:e.day}),(0,s.jsxs)("div",{className:"mt-auto flex gap-1",children:[0===r&&(0,s.jsx)("span",{className:"inline-block size-2 rounded-full bg-slate-600"}),r>=1&&(0,s.jsx)("span",{className:"inline-block size-2 rounded-full bg-emerald-400"}),r>=2&&(0,s.jsx)("span",{className:"inline-block size-2 rounded-full bg-emerald-400 shadow-[0_0_0_3px_rgba(16,185,129,0.35)]"})]})]})]},`day-${e.day}`)})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[(0,s.jsxs)(x.Zp,{className:"rounded-2xl border border-slate-700 bg-slate-900/70 backdrop-blur",children:[(0,s.jsxs)(x.aR,{className:"pb-2",children:[(0,s.jsxs)(x.ZB,{className:"text-white text-base sm:text-lg flex items-center gap-2",dir:"auto",children:[(0,s.jsx)(m.A,{className:"size-5"}),a.performanceTitle]}),(0,s.jsx)(x.BT,{className:"text-slate-300",dir:"auto",children:a.performanceSubtitle})]}),(0,s.jsxs)(x.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-4xl font-bold text-white mb-2 tabular-nums",dir:"ltr",children:[$,"%"]}),(0,s.jsx)(f.E,{variant:$>=80?"default":$>=60?"secondary":"destructive",className:"text-xs",dir:"auto",children:$>=80?a.gradeExcellent:$>=60?a.gradeGood:a.gradeImprove})]}),(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,s.jsx)("span",{className:"text-slate-300",dir:"auto",children:a.performanceGlobal}),(0,s.jsxs)("span",{className:"text-slate-300 tabular-nums",dir:"ltr",children:[$,"%"]})]}),(0,s.jsx)(b.k,{value:$,className:"h-2"})]})}),(0,s.jsx)("div",{className:"text-xs text-slate-400 text-center",dir:"auto",children:a.disciplinarySubtitle})]})]}),(0,s.jsxs)(x.Zp,{className:"rounded-2xl border border-slate-700 bg-slate-900/70 backdrop-blur",children:[(0,s.jsxs)(x.aR,{className:"pb-2",children:[(0,s.jsxs)(x.ZB,{className:"text-white text-base sm:text-lg flex items-center gap-2",dir:"auto",children:[(0,s.jsx)(p.A,{className:"size-5"}),a.disciplinaryTitle]}),(0,s.jsx)(x.BT,{className:"text-slate-300",dir:"auto",children:a.disciplinarySubtitle})]}),(0,s.jsx)(x.Wu,{className:"space-y-4",children:[{title:a.infractions,value:I,color:"text-rose-500"},{title:a.absences,value:R,color:"text-orange-500"},{title:a.late,value:E,color:"text-yellow-500"}].map((e,t)=>(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:`flex items-center justify-between ${j}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:`size-4 ${e.color}`}),(0,s.jsx)("span",{className:"text-sm font-medium text-slate-300",dir:"auto",children:e.title})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("span",{className:"text-lg font-bold text-white tabular-nums",dir:"ltr",children:e.value})})]})},t))})]})]}),(0,s.jsxs)(x.Zp,{className:"rounded-2xl border border-slate-700 bg-slate-900/70 backdrop-blur",children:[(0,s.jsxs)(x.aR,{className:"pb-2",children:[(0,s.jsx)(x.ZB,{className:"text-white text-base sm:text-lg",dir:"auto",children:a.additionalInfoTitle}),(0,s.jsx)(x.BT,{className:"text-slate-300",dir:"auto",children:a.additionalInfoSubtitle})]}),(0,s.jsx)(x.Wu,{children:D?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:Array.from({length:2}).map((e,t)=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"h-5 w-40 animate-pulse rounded bg-slate-700/50"}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-800 bg-slate-900/60",children:[(0,s.jsx)("div",{className:"h-4 w-32 animate-pulse rounded bg-slate-700/40"}),(0,s.jsx)("div",{className:"h-6 w-20 animate-pulse rounded bg-slate-700/40"})]})]},`info-skel-${t}`))}):(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h4",{className:`font-semibold text-white ${j}`,dir:"auto",children:a.uniform}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-800 bg-slate-900/60",children:[(0,s.jsx)("span",{className:"text-sm text-slate-300",dir:"auto",children:a.uniformsProvided}),(0,s.jsxs)(f.E,{variant:"outline",className:"bg-slate-800/50 text-slate-200",dir:"auto",children:[(0,s.jsx)("span",{className:"tabular-nums",dir:"ltr",children:Number(A?.tenu_de_travail??0)})," ",a.units]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h4",{className:`font-semibold text-white ${j}`,dir:"auto",children:a.status}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-800 bg-slate-900/60",children:[(0,s.jsx)("span",{className:"text-sm text-slate-300",dir:"auto",children:a.currentStatus}),(0,s.jsx)(f.E,{variant:"active"===String(A?.status).toLowerCase()?"default":"secondary",className:"active"===String(A?.status).toLowerCase()?"bg-emerald-600 text-white":"",dir:"auto",children:"active"===String(A?.status).toLowerCase()?a.active:a.inactive})]})]})]})})]})]})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[7719,9922,4774,5806,1536,972,4537],()=>a(57291));module.exports=s})();