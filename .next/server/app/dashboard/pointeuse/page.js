(()=>{var e={};e.id=5018,e.ids=[5018],e.modules={3018:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>l,TN:()=>d});var a=r(60687),s=r(43210),i=r(24224),n=r(96241);let o=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=s.forwardRef(({className:e,variant:t,...r},s)=>(0,a.jsx)("div",{ref:s,role:"alert",className:(0,n.cn)(o({variant:t}),e),...r}));l.displayName="Alert",s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h5",{ref:r,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let d=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));d.displayName="AlertDescription"},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23385:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},24354:(e,t,r)=>{"use strict";r.d(t,{BG:()=>d,Vt:()=>s,uU:()=>c});var a=r(43210);let s="Africa/Tunis",i={fr:{active:"Actif",inactive:"Inactif",unknown_date:"Date inconnue",invalid_date:"Date invalide",loading:"Chargement...",cancel:"Annuler",save:"Sauver",edit:"Modifier",urgent:"Urgent",space:"Espace",role_admin:"Admin",role_manager:"Manager",role_employee:"Employ\xe9",nav:"Navigation",header_title_admin:"Administration",header_title_manager:"Management",header_title_employee:"Espace Employ\xe9",header_subtitle:"Tableau de bord Red Castle",notifications:"Notifications",profile:"Profil",settings:"Param\xe8tres",logout:"D\xe9connexion",notif_title:"\uD83D\uDD14 Approbations en attente",no_notifications:"✨ Aucune notification",schedule_change:"\uD83D\uDCC5 Changement de planning",date_unknown:"Date inconnue",received_at_prefix:"Re\xe7u le",admin_title:"Administration Red Castle",admin_subtitle:"Tableau de bord administrateur - Vue d'ensemble",system_active:"Syst\xe8me actif",last_update_now:"Derni\xe8re mise \xe0 jour: maintenant",stat_total_employees:"Total Employ\xe9s",stat_all_restaurants:"Tous restaurants",stat_active_locations:"Restaurants Actifs",stat_locations_open:"Locations ouvertes",stat_revenue:"Chiffre d'Affaires",stat_this_month:"Ce mois",stat_approvals:"Approbations",stat_pending:"En attente",chart_global_perf:"Performance Globale",chart_global_perf_desc:"\xc9volution du chiffre d'affaires et des effectifs",chart_perf_by_location:"Performance par Restaurant",chart_perf_by_location_desc:"Chiffre d'affaires mensuel par location",restaurants_manage:"Gestion des Restaurants",restaurants_overview:"Vue d'ensemble de tous les restaurants Red Castle",employees:"Employ\xe9s",monthly_revenue:"CA Mensuel",performance:"Performance",recent_activities:"Activit\xe9s R\xe9centes",recent_activities_desc:"Derni\xe8res actions n\xe9cessitant votre attention",loading_activities:"Chargement des activit\xe9s...",error_loading_activities:"Erreur lors du chargement des activit\xe9s",no_recent_activity:"Aucune activit\xe9 r\xe9cente",m_jan:"Jan",m_feb:"F\xe9v",m_mar:"Mar",m_apr:"Avr",m_may:"Mai",m_jun:"Jun",personal_info:"Informations Personnelles",full_name:"Nom Complet",job_title:"Poste",status:"Statut",hire_date:"Date d'embauche",financial_info:"Informations Financi\xe8res",salary:"Salaire",bonus:"Prime",advance:"Avance",net_salary_est:"Salaire Net Estim\xe9",performance_title:"Performance",overall_performance:"Performance globale",excellent:"Excellent",good:"Bon",needs_improvement:"\xc0 am\xe9liorer",worked_hours:"Heures travaill\xe9es",sessions:"Sessions",disciplinary_data:"Donn\xe9es Disciplinaires",infractions:"Infractions",absences:"Absences",delays:"Retards",uniforms:"Tenues de travail",recent_activity:"Activit\xe9 R\xe9cente",recent_sessions:"Derni\xe8res sessions de travail",in_progress:"En cours",done:"Termin\xe9",contracts:"Contrats",contract_prefix:"Contrat",from:"Du",to:"au",uniforms_count:"tenues",active_session:"Session active",sessions_done:"Sessions termin\xe9es",punch_title:"Pointeuse",punch_subtitle:"G\xe9rez vos heures de travail",current_status:"Statut Actuel",on_duty:"En service",off_duty:"Hors service",check_in:"Pointage d’arriv\xe9e",check_out:"Pointage de d\xe9part",arrived_at:"Arriv\xe9e",working_time:"Temps de travail",position:"Position",punch_in_btn:"Pointer l'arriv\xe9e",punch_out_btn:"Pointer le d\xe9part",today_summary:"R\xe9sum\xe9 du jour",today_history:"Historique du jour",unknown_status:"Statut inconnu",geo_warning:"La g\xe9olocalisation n'est pas disponible. Certaines fonctionnalit\xe9s peuvent \xeatre limit\xe9es.",toast_checkin_success:"Vous avez point\xe9 votre arriv\xe9e avec succ\xe8s",toast_checkout_success:"Vous avez point\xe9 votre d\xe9part avec succ\xe8s",toast_error:"Erreur",toast_checkin_error:"Erreur lors du pointage d'arriv\xe9e",toast_checkout_error:"Erreur lors du pointage de d\xe9part",toast_update_success:"Employ\xe9 mis \xe0 jour avec succ\xe8s",toast_update_error:"Erreur lors de la mise \xe0 jour"},ar:{active:"نشط",inactive:"غير نشط",unknown_date:"تاريخ غير معروف",invalid_date:"تاريخ غير صالح",loading:"جاري التحميل...",cancel:"إلغاء",save:"حفظ",edit:"تعديل",urgent:"عاجل",space:"مساحة",role_admin:"مدير",role_manager:"مشرف",role_employee:"موظف",nav:"التنقل",header_title_admin:"الإدارة",header_title_manager:"الإشراف",header_title_employee:"مساحة الموظف",header_subtitle:"لوحة تحكم ريد كاسل",notifications:"الإشعارات",profile:"الملف الشخصي",settings:"الإعدادات",logout:"تسجيل الخروج",notif_title:"\uD83D\uDD14 موافقات قيد الانتظار",no_notifications:"✨ لا توجد إشعارات",schedule_change:"\uD83D\uDCC5 تغيير الجدول",date_unknown:"تاريخ غير معروف",received_at_prefix:"تم الاستلام في",admin_title:"إدارة ريد كاسل",admin_subtitle:"لوحة تحكم المدير - نظرة عامة",system_active:"النظام نشط",last_update_now:"آخر تحديث: الآن",stat_total_employees:"إجمالي الموظفين",stat_all_restaurants:"جميع المطاعم",stat_active_locations:"المطاعم النشطة",stat_locations_open:"الفروع المفتوحة",stat_revenue:"رقم المعاملات",stat_this_month:"هذا الشهر",stat_approvals:"الموافقات",stat_pending:"قيد الانتظار",chart_global_perf:"الأداء العام",chart_global_perf_desc:"تطور رقم المعاملات وعدد الموظفين",chart_perf_by_location:"الأداء حسب المطعم",chart_perf_by_location_desc:"رقم المعاملات الشهري لكل موقع",restaurants_manage:"إدارة المطاعم",restaurants_overview:"نظرة عامة على جميع مطاعم ريد كاسل",employees:"الموظفون",monthly_revenue:"المعاملات الشهرية",performance:"الأداء",recent_activities:"الأنشطة الأخيرة",recent_activities_desc:"أحدث الإجراءات التي تتطلب اهتمامك",loading_activities:"جاري تحميل الأنشطة...",error_loading_activities:"حدث خطأ أثناء تحميل الأنشطة",no_recent_activity:"لا توجد أنشطة حديثة",m_jan:"جان",m_feb:"فيف",m_mar:"مار",m_apr:"أف",m_may:"ماي",m_jun:"جون",personal_info:"المعلومات الشخصية",full_name:"الاسم الكامل",job_title:"المنصب",status:"الحالة",hire_date:"تاريخ التوظيف",financial_info:"المعلومات المالية",salary:"الراتب",bonus:"منحة",advance:"سلفة",net_salary_est:"صافي الراتب التقديري",performance_title:"الأداء",overall_performance:"الأداء العام",excellent:"ممتاز",good:"جيد",needs_improvement:"بحاجة لتحسين",worked_hours:"ساعات العمل",sessions:"الجلسات",disciplinary_data:"البيانات التأديبية",infractions:"مخالفات",absences:"غيابات",delays:"تأخيرات",uniforms:"أزياء العمل",recent_activity:"النشاط الأخير",recent_sessions:"آخر جلسات العمل",in_progress:"قيد العمل",done:"منتهي",contracts:"العقود",contract_prefix:"عقد",from:"من",to:"إلى",uniforms_count:"أزياء",active_session:"جلسة نشطة",sessions_done:"الجلسات المكتملة",punch_title:"آلة تسجيل الوقت",punch_subtitle:"إدارة ساعات عملك",current_status:"الحالة الحالية",on_duty:"على رأس العمل",off_duty:"خارج العمل",check_in:"تسجيل الوصول",check_out:"تسجيل الانصراف",arrived_at:"وقت الوصول",working_time:"وقت العمل",position:"الموقع",punch_in_btn:"تسجيل الوصول",punch_out_btn:"تسجيل الانصراف",today_summary:"ملخص اليوم",today_history:"سجل اليوم",unknown_status:"حالة غير معروفة",geo_warning:"خدمة تحديد الموقع غير متاحة. قد تكون بعض الميزات محدودة.",toast_checkin_success:"تم تسجيل وصولك بنجاح",toast_checkout_success:"تم تسجيل انصرافك بنجاح",toast_error:"خطأ",toast_checkin_error:"حدث خطأ أثناء تسجيل الوصول",toast_checkout_error:"حدث خطأ أثناء تسجيل الانصراف",toast_update_success:"تم تحديث الموظف بنجاح",toast_update_error:"حدث خطأ أثناء التحديث"}};function n(e){return"ar"===e?"ar-TN":"fr-TN"}function o(e){return e instanceof Date?e:new Date(e)}function l(e,t){return{...e??{},timeZone:e?.timeZone??t??s}}function d(e=new Date,t=s){let r=o(e);return new Intl.DateTimeFormat("en-CA",l({year:"numeric",month:"2-digit",day:"2-digit"},t)).format(r)}function c(e="fr"){let[t,r]=(0,a.useState)(e),d=(0,a.useCallback)(e=>{let t="ar"===e?"ar":"fr";r(t),function(e){if("undefined"==typeof document)return;let t=document.documentElement;t.lang=e,t.dir="ltr"}(t)},[]),u=(0,a.useCallback)((e,r)=>{let a=i[t];return a&&a[e]||r||e},[t]),m=n(t),_=(0,a.useCallback)((e,r)=>(function(e,t,r,a){let s=o(e);return isNaN(s.getTime())?"":new Intl.DateTimeFormat(n(t),l(r,a)).format(s)})(e,t,r,s),[t,s]),p=(0,a.useCallback)((e,r)=>(function(e,t,r,a){let s=o(e);return isNaN(s.getTime())?"":new Intl.DateTimeFormat(n(t),l({hour:"2-digit",minute:"2-digit",second:"2-digit",...r??{}},a)).format(s)})(e,t,r,s),[t,s]),h=(0,a.useCallback)((e,r)=>new Intl.NumberFormat(n(t),r).format(Number.isFinite(e)?e:0),[t]),f=(0,a.useCallback)((e,r="TND",a=0)=>(function(e,t,r="TND",a=0){return new Intl.NumberFormat(n(t),{style:"currency",currency:r,currencyDisplay:"narrowSymbol",maximumFractionDigits:a}).format(Number.isFinite(e)?e:0)})(e,t,r,a),[t]);return{lang:t,t:u,locale:m,timeZone:s,setLang:d,formatDate:_,formatTime:p,formatNumber:h,formatCurrency:f}}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43932:(e,t,r)=>{Promise.resolve().then(r.bind(r,44337))},44337:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/monta/rabota/work3/redcastel/app/dashboard/pointeuse/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/monta/rabota/work3/redcastel/app/dashboard/pointeuse/page.tsx","default")},60231:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=r(65239),s=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["dashboard",{children:["pointeuse",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,44337)),"/home/monta/rabota/work3/redcastel/app/dashboard/pointeuse/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,83249)),"/home/monta/rabota/work3/redcastel/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/home/monta/rabota/work3/redcastel/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/monta/rabota/work3/redcastel/app/dashboard/pointeuse/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/pointeuse/page",pathname:"/dashboard/pointeuse",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},75227:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var a=r(60687),s=r(43210),i=r(1797),n=r(15728),o=r(24934),l=r(59821),d=r(3018);let c=(0,r(62688).A)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var u=r(97992),m=r(97840),_=r(23385),p=r(40228),h=r(93613),f=r(50848),x=r(45126),v=r(71702),g=r(24354);function b(e){return"number"==typeof e&&Number.isFinite(e)}function y(e){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:new Date(e.getTime());if("number"==typeof e){let t=new Date(e<1e12?1e3*e:e);return isNaN(t.getTime())?null:t}if("string"==typeof e){let t=e.trim();if(/^\d+$/.test(t))return y(Number(t));let r=t.replace(" ","T");if(/[zZ]|[+-]\d{2}:?\d{2}$/.test(r)){let e=new Date(r);return isNaN(e.getTime())?null:e}let[a,s="00:00:00"]=r.split("T"),[i,n,o]=a.split("-").map(e=>Number(e));if(!b(i)||!b(n)||!b(o))return null;let[l="0",d="0",c="0"]=s.split(":"),u=Number(l),m=Number(d),_=Number(c),p=Math.floor(isNaN(_)?0:_),h=Math.round((isNaN(_)?0:_-p)*1e3),f=new Date(i,(n||1)-1,o||1,u||0,m||0,p||0,h||0);return isNaN(f.getTime())?null:f}return null}function N(){let{t:e,formatDate:t,formatTime:r}=(0,g.uU)(),{user:N}=(0,x.A)(),{toast:j}=(0,v.dj)(),[k,w]=(0,s.useState)(new Date),[A,P]=(0,s.useState)(!1),[T,C]=(0,s.useState)(null),[E,D]=(0,s.useState)(null),S=(0,g.BG)(new Date,g.Vt),{data:F,refetch:R}=(0,i.I)(f.Yo,{variables:{employeeId:N?.employee_id,startDate:S,endDate:S},skip:!N?.employee_id,fetchPolicy:"cache-and-network"}),[I]=(0,n.n)(f.t),[M]=(0,n.n)(f.mS),q=F?.timeEntries??[];(0,s.useMemo)(()=>q.find(e=>{let t=(e.status??"").toString().toLowerCase(),r=!e.clock_out&&!!e.clock_in;return"active"===t||"en_cours"===t||"in_progress"===t||r})??null,[q]);let $=async()=>{try{let t=await I({variables:{employeeId:N?.employee_id,locationId:N?.location_id??null}});P(!0),C(t.data?.clockIn??null),j({title:e("check_in","Pointage d’arriv\xe9e"),description:e("toast_checkin_success","Vous avez point\xe9 votre arriv\xe9e avec succ\xe8s")}),R()}catch(t){j({title:e("toast_error","Erreur"),description:e("toast_checkin_error","Erreur lors du pointage d'arriv\xe9e"),variant:"destructive"})}},z=async()=>{if(T)try{await M({variables:{timeEntryId:T.id}}),P(!1),C(null),j({title:e("check_out","Pointage de d\xe9part"),description:e("toast_checkout_success","Vous avez point\xe9 votre d\xe9part avec succ\xe8s")}),R()}catch(t){j({title:e("toast_error","Erreur"),description:e("toast_checkout_error","Erreur lors du pointage de d\xe9part"),variant:"destructive"})}},G=e=>t(e,{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",dir:"auto",children:e("punch_title","Pointeuse")}),(0,a.jsx)("p",{className:"text-muted-foreground",dir:"auto",children:e("punch_subtitle","G\xe9rez vos heures de travail")})]}),(0,a.jsx)("div",{className:"glass-card rounded-3xl shadow-2xl border-0 text-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900/80 backdrop-blur-futuristic",children:(0,a.jsxs)("div",{className:"p-8 space-y-4",children:[(0,a.jsx)("div",{className:"text-4xl sm:text-6xl font-mono font-bold text-red-600 drop-shadow-lg",children:r(k,{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}),(0,a.jsx)("div",{className:"text-lg text-slate-300 font-medium",dir:"auto",children:G(k)})]})}),(0,a.jsx)("div",{className:"glass-card rounded-3xl shadow-2xl border border-white/10 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900/80 backdrop-blur-futuristic",children:(0,a.jsxs)("div",{className:"px-8 pt-8 pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(c,{className:"w-5 h-5 text-blue-400"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-slate-200",dir:"auto",children:e("current_status","Statut Actuel")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:`w-3 h-3 rounded-full ${A?"bg-green-500":"bg-gray-400"}`}),(0,a.jsx)("span",{className:"font-medium text-slate-300",dir:"auto",children:A?e("on_duty","En service"):e("off_duty","Hors service")})]}),(0,a.jsx)(l.E,{variant:"outline",className:A?"bg-emerald-500/15 text-emerald-300 border-emerald-400/30 backdrop-blur px-3 py-1 rounded-full":"bg-slate-500/20 text-slate-300 border-slate-300/30 backdrop-blur px-3 py-1 rounded-full",dir:"auto",children:A?e("active","Actif"):e("inactive","Inactif")})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-muted-foreground",dir:"auto",children:[e("arrived_at","Arriv\xe9e"),":"]}),(0,a.jsx)("span",{className:"font-medium",children:(()=>{let e=y(T?.clock_in??null);return e?r(e,{hour:"2-digit",minute:"2-digit",hour12:!1}):"—"})()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-muted-foreground",dir:"auto",children:[e("working_time","Temps de travail"),":"]}),(0,a.jsx)("span",{className:"font-mono font-bold text-red-600",children:A&&T?(()=>{let e=y(T?.clock_in??null);return e?function(e){(!Number.isFinite(e)||e<0)&&(e=0);let t=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}(k.getTime()-e.getTime()):"00:00:00"})():"00:00:00"})]})]}),E&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-2",dir:"auto",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e("position","Position"),": ",E.latitude.toFixed(4),", ",E.longitude.toFixed(4)]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)(o.$,{onClick:$,disabled:A,size:"lg",className:"h-16 bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[(0,a.jsx)(m.A,{className:"w-6 h-6 mr-2"}),(0,a.jsx)("span",{dir:"auto",children:e("punch_in_btn","Pointer l'arriv\xe9e")})]}),(0,a.jsxs)(o.$,{onClick:z,disabled:!A,size:"lg",variant:"destructive",className:"h-16 disabled:opacity-50",children:[(0,a.jsx)(_.A,{className:"w-6 h-6 mr-2"}),(0,a.jsx)("span",{dir:"auto",children:e("punch_out_btn","Pointer le d\xe9part")})]})]}),(0,a.jsx)("div",{className:"glass-card rounded-3xl shadow-2xl border border-white/10 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900/80 backdrop-blur-futuristic",children:(0,a.jsxs)("div",{className:"px-8 pt-8 pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(p.A,{className:"w-5 h-5 text-blue-400"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-slate-200",dir:"auto",children:e("today_summary","R\xe9sum\xe9 du jour")})]}),(0,a.jsx)("div",{className:"text-slate-400 mb-4",dir:"auto",children:G(new Date)}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 rounded-xl bg-white/5",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-400",children:[q.reduce((e,t)=>{let r=t.total_hours;return e+(b(r)?r:0)},0).toFixed(1),"h"]}),(0,a.jsx)("div",{className:"text-sm text-slate-300",dir:"auto",children:e("worked_hours","Heures travaill\xe9es")})]}),(0,a.jsxs)("div",{className:"text-center p-4 rounded-xl bg-white/5",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-400",children:q.filter(e=>"completed"===(e.status??"").toString().toLowerCase()).length}),(0,a.jsx)("div",{className:"text-sm text-slate-300",dir:"auto",children:e("sessions_done","Sessions termin\xe9es")})]}),(0,a.jsxs)("div",{className:"text-center p-4 rounded-xl bg-white/5",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:A?"1":"0"}),(0,a.jsx)("div",{className:"text-sm text-slate-300",dir:"auto",children:e("active_session","Session active")})]})]})]})}),q.length>0&&(0,a.jsx)("div",{className:"glass-card rounded-3xl shadow-2xl border border-white/10 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900/80 backdrop-blur-futuristic",children:(0,a.jsxs)("div",{className:"px-8 pt-8 pb-4",children:[(0,a.jsx)("div",{className:"text-lg font-semibold text-slate-200 mb-4",dir:"auto",children:e("today_history","Historique du jour")}),(0,a.jsx)("div",{className:"space-y-3",children:q.map(t=>{let s=y(t.clock_in??null),i=y(t.clock_out??null),n=s?r(s,{hour:"2-digit",minute:"2-digit",hour12:!1}):"—",o=i?r(i,{hour:"2-digit",minute:"2-digit",hour12:!1}):null,d=(t.status??"").toString().toLowerCase(),c="active"===d||"en_cours"===d||"in_progress"===d||!i&&s,u="completed"===d||!!s&&!!i;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full ${c?"bg-green-500":u?"bg-blue-500":"bg-gray-400"}`}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-slate-200",children:o?`${n} - ${o}`:n}),(0,a.jsx)("div",{className:"text-sm text-slate-400",dir:"auto",children:c?e("in_progress","En cours"):u?e("done","Termin\xe9"):e("unknown_status","Statut inconnu")})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-medium text-slate-200",children:b(t.total_hours)?`${t.total_hours.toFixed(1)}h`:c&&s?(()=>{let e=k.getTime()-s.getTime();return e>0?`${(e/36e5).toFixed(1)}h`:"0.0h"})():"-"}),(0,a.jsx)(l.E,{variant:"outline",className:c?"bg-emerald-500/15 text-emerald-300 border-emerald-400/30 backdrop-blur px-2.5 py-1 rounded-full":u?"bg-blue-500/15 text-blue-300 border-blue-400/30 backdrop-blur px-2.5 py-1 rounded-full":"bg-slate-500/20 text-slate-300 border-slate-300/30 backdrop-blur px-2.5 py-1 rounded-full",dir:"auto",children:c?e("active","Actif"):u?e("done","Termin\xe9"):t.status??"-"})]})]},t.id)})})]})}),!E&&(0,a.jsxs)(d.Fc,{children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsx)(d.TN,{dir:"auto",children:e("geo_warning","La g\xe9olocalisation n'est pas disponible. Certaines fonctionnalit\xe9s peuvent \xeatre limit\xe9es.")})]})]})}},85724:(e,t,r)=>{Promise.resolve().then(r.bind(r,75227))},93613:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},97840:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[7719,9922,4774,5806,1536,972,4537],()=>r(60231));module.exports=a})();